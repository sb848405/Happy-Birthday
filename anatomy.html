<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Anatomy of You</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gochi+Hand&family=Inter:wght@300;400;500;600;700&family=Pacifico&family=Playfair+Display:ital,wght@0,400;0,600;0,700;0,800;1,400&display=swap" rel="stylesheet">
    
    <style>
        .nav-panel, #mainContent, #navToggleIcon, #navToggleX, #desktopNavMenu, #desktopBurger, #desktopClose {
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        
        #mainContent, .nav-panel, #desktopNavMenu {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        #mainContent::-webkit-scrollbar,
        .nav-panel::-webkit-scrollbar,
        #desktopNavMenu::-webkit-scrollbar {
            display: none;
        }

        body {
            background-color: #fdf2f8; 
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            cursor: none;
            user-select: none; /* Prevent text selection globally */
            -webkit-user-select: none; /* Safari */
            -moz-user-select: none; /* Firefox */
            -ms-user-select: none; /* IE10+/Edge */
        }
        
        @media (max-width: 1024px) {
            body { cursor: auto; }
        }

        .font-editorial {
            font-family: 'Playfair Display', serif;
        }
        h1, h2, h3 {
             font-family: 'Pacifico', cursive;
        }
        .festive-text {
             font-family: 'Gochi Hand', cursive;
        }

        .scene {
            width: 250px; 
            height: 250px;
            perspective: 800px;
            margin: 0 auto;
        }

        .cube {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.05s linear;
            cursor: none; 
        }

        #customCursor {
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: normal; 
            filter: drop-shadow(0 0 8px rgba(244, 63, 94, 0.5));
        }

        .cursor-trail-dot {
            position: fixed;
            pointer-events: none;
            z-index: 9998;
            color: #fb7185; 
            transition: opacity 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes rotate-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-rotate-slow {
            animation: rotate-slow 8s linear infinite;
        }
        
        @keyframes rotate-reverse-slow {
            from { transform: rotate(360deg); }
            to { transform: rotate(0deg); }
        }
        .animate-rotate-reverse-slow {
            animation: rotate-reverse-slow 12s linear infinite;
        }

        .face {
            position: absolute;
            width: 250px;
            height: 250px;
            
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #d9c8c0;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);

            display: flex;
            justify-content: center;
            align-items: center;
            backface-visibility: hidden;
            padding: 0; 
            box-sizing: border-box;
            user-select: none; 
            text-shadow: 0 0 1px rgba(0,0,0,0.05);
            font-family: 'Inter', sans-serif;
            color: #374151; 
        }

        .desktop-mode .face {
            background: rgba(255, 255, 255, 0.95);
            border: 3px solid #fce7f3;
            border-radius: 20px;
            box-shadow: 0 20px 50px -12px rgba(244, 63, 94, 0.25), inset 0 0 20px rgba(255,255,255,0.8);
        }
        
        .desktop-mode .face h3 {
            color: #be123c;
            font-size: 1.6rem;
        }

        .face h3 {
            font-family: 'Pacifico', cursive;
        }

        .front { transform: rotateY(0deg) translateZ(125px); }
        .back { transform: rotateY(180deg) translateZ(125px); }
        .right { transform: rotateY(90deg) translateZ(125px); }
        .left { transform: rotateY(-90deg) translateZ(125px); }
        .top { transform: rotateX(90deg) translateZ(125px); }
        .bottom { transform: rotateX(-90deg) translateZ(125px); }
        
        button { user-select: none; }

        @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob { animation: blob 7s infinite; }
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }
        .animate-float { animation: float 4s ease-in-out infinite; }
        
        @keyframes float-slow {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        .animate-float-slow { animation: float-slow 8s ease-in-out infinite; }
        .animate-float-slower { animation: float-slow 12s ease-in-out infinite reverse; }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-up {
            animation: fadeInUp 1s ease-out forwards;
        }
        
        @keyframes shimmer {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .text-shimmer {
            background-size: 200% auto;
            animation: shimmer 4s linear infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
        }
        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle 3s ease-in-out infinite;
        }
        
        @keyframes aurora {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .bg-aurora {
            background: linear-gradient(-45deg, #be123c, #fb7185, #db2777, #9f1239);
            background-size: 400% 400%;
            animation: aurora 15s ease infinite;
        }

        @keyframes steady-glow {
            0%, 100% { box-shadow: 0 0 5px rgba(244, 63, 94, 0.5); }
            50% { box-shadow: 0 0 20px rgba(244, 63, 94, 0.9), 0 0 10px rgba(255, 255, 255, 0.5); }
        }
        .animate-nav-glow {
            animation: steady-glow 2.5s ease-in-out infinite;
        }

        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
            display: block;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: rgba(225, 29, 72, 0.3);
            border-radius: 20px;
        }
        
        .stack-grid {
            display: grid;
            grid-template-areas: "stack";
        }
        .stack-item {
            grid-area: stack;
            transition: all 0.5s ease-in-out;
        }
        .opacity-0-pointer-events-none {
            opacity: 0;
            pointer-events: none;
            transform: translateY(10px);
        }
        .opacity-100 {
            opacity: 1;
            pointer-events: auto;
            transform: translateY(0);
        }
        
        .solid-struc {
            position: absolute;
            transform-style: preserve-3d;
            background: linear-gradient(135deg, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0.1) 100%);
            border: 1px solid rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(3px); 
            box-shadow: 
                0 8px 32px 0 rgba(31, 38, 135, 0.1),
                inset 0 0 30px rgba(255,255,255,0.2);
            transition: all 0.5s ease;
        }
        
        .solid-struc.cube-like {
            border-radius: 20px;
            background: linear-gradient(135deg, rgba(254, 205, 211, 0.4), rgba(255,255,255,0.2)); 
        }
        
        .solid-struc.sphere-like {
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.5), rgba(251, 191, 36, 0.1)); 
            box-shadow: 
                0 20px 40px -10px rgba(251, 191, 36, 0.2), 
                inset 0 0 40px rgba(255,255,255,0.4);
        }
        
        .solid-struc.pill-like {
            border-radius: 9999px;
            background: linear-gradient(to right, rgba(236, 72, 153, 0.2), rgba(255,255,255,0.3)); 
        }

        #rightColumn {
            --mouse-x: 50%;
            --mouse-y: 50%;
        }
        
        #rightColumn::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(800px circle at var(--mouse-x) var(--mouse-y), rgba(255, 255, 255, 0.4), transparent 40%);
            z-index: 1;
            pointer-events: none;
            mix-blend-mode: overlay;
        }

        @keyframes bg-gradient-rich {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .animate-bg-gradient-rich {
            background: linear-gradient(-45deg, #4c1d95, #be185d, #db2777, #7c3aed);
            background-size: 300% 300%;
            animation: bg-gradient-rich 15s ease infinite;
        }

        .particle {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.6;
            animation: float-particle 10s infinite linear;
        }

        @keyframes float-particle {
            0% { transform: translateY(0) translateX(0); opacity: 0; }
            10% { opacity: 0.8; }
            90% { opacity: 0.8; }
            100% { transform: translateY(-100vh) translateX(20px); opacity: 0; }
        }

    </style>
</head>
<body class="antialiased bg-pink-100 text-gray-800">

    <button id="navToggle" class="lg:hidden fixed top-6 left-6 z-[70] p-2 bg-rose-600 text-white rounded-full shadow-lg hover:bg-rose-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-offset-2 animate-nav-glow">
        <svg id="navToggleIcon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-8 6h8"></path></svg>
        <svg id="navToggleX" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
    </button>
    <nav id="topNav" class="lg:hidden nav-panel fixed top-0 left-0 right-0 z-[60] h-16 bg-rose-600 text-white shadow-xl flex items-center justify-center space-x-2 -translate-y-full">
        <a href="Music.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Music</a>
        <a href="letter.html" class="nav-link px-3 py-2 rounded-lg text-sm font-medium hover:bg-rose-700 transition-colors duration-200 festive-text">Letter</a>
        <a href="Msg.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Message</a>
    </nav>
    <nav id="bottomNav" class="lg:hidden nav-panel fixed bottom-0 left-0 right-0 z-[60] h-16 bg-rose-600 text-white shadow-xl flex items-center justify-center space-x-2 translate-y-full">
        <a href="Skill.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Skill</a>
        <a href="Paper_Star.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Star</a>
        <a href="Carttoon.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Cartoon</a>
    </nav>
    <nav id="leftNav" class="lg:hidden nav-panel fixed left-0 top-0 bottom-0 z-[60] w-20 bg-rose-800 text-white shadow-xl flex flex-col items-center space-y-2 -translate-x-full overflow-y-auto py-20">
        <a href="index.html" class="nav-link px-3 py-2 rounded-lg text-sm font-medium hover:bg-rose-700 transition-colors duration-200 festive-text">Home</a>
        <a href="21_Wish.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">21_Door</a>
        <a href="Cake.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Cake</a>
        <a href="chat.html" class="nav-link px-3 py-2 rounded-lg text-sm font-medium hover:bg-rose-700 transition-colors duration-200 festive-text">Heaven</a>
        <a href="Diary.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Diary</a>
        <a href="anatomy.html" class="nav-link px-3 py-2 rounded-lg text-sm font-medium hover:bg-rose-700 transition-colors duration-200 festive-text">Anatomy</a>
        <a href="Box.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Box</a>
        <a href="Special.html" class="nav-link px-3 py-2 rounded-lg text-sm font-medium hover:bg-rose-700 transition-colors duration-200 festive-text">Special</a>
        <a href="color.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Color</a>
        <a href="you.html" class="nav-link px-3 py-2 rounded-lg text-sm font-medium hover:bg-rose-700 transition-colors duration-200 festive-text">You</a>
        <a href="Teacher.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Teacher</a>
        <a href="Universe.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Cosmos</a>
        <a href="The_River.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">River</a>
        <a href="Mountain.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Mountain</a>
    </nav>
    <nav id="rightNav" class="lg:hidden nav-panel fixed right-0 top-0 bottom-0 z-[60] w-20 bg-rose-800 text-white shadow-xl flex flex-col items-center space-y-2 translate-x-full overflow-y-auto py-20">
        <a href="Periodik_table.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Table</a>
        <a href="Concept.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Concept</a>
        <a href="Calender.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Calendar</a>
        <a href="Perspective.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Lens</a>
        <a href="Santa.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Santa</a>
        <a href="Presence.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Presence</a>
        <a href="Cloud.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Cloud</a>
        <a href="Ink.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Paint</a>
        <a href="Butterfly.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Butterfly</a>
        <a href="Weather.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Weather</a>
        <a href="Spotlight.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Spotlight</a>
        <a href="Room.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Room</a>
        <a href="Radio.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Radio</a>
        <a href="Food.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Food</a>
    </nav>


    <button id="desktopNavToggle" class="hidden lg:flex fixed top-8 left-8 z-[90] p-4 bg-rose-600 text-white rounded-full shadow-lg hover:bg-rose-700 hover:shadow-xl transition-all duration-300 group animate-nav-glow">
        <span class="sr-only">Open Menu</span>
        <svg id="desktopBurger" class="w-6 h-6 transform group-hover:scale-110 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
        <svg id="desktopClose" class="w-6 h-6 hidden transform group-hover:rotate-90 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
    </button>

    <div id="desktopNavMenu" class="hidden lg:block fixed top-24 left-8 bottom-8 w-[28rem] bg-white/95 backdrop-blur-2xl rounded-[2rem] shadow-2xl z-[80] transform -translate-x-[150%] border border-rose-100 overflow-hidden flex flex-col">
        <div class="p-8 overflow-y-auto h-full custom-scrollbar">
            <h3 class="text-3xl font-bold text-rose-800 mb-6 festive-text border-b border-rose-100 pb-4">Our World</h3>
            <div class="grid grid-cols-2 gap-3">
                <a href="index.html" class="flex items-center p-3 rounded-xl bg-rose-50/50 hover:bg-rose-100 text-rose-700 font-medium transition-all hover:translate-x-1">Home</a>
                <a href="Cake.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Cake</a>
                <a href="21_Wish.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">21_Door</a>
                <a href="chat.html" class="flex items-center p-3 rounded-xl bg-rose-50/50 hover:bg-rose-100 text-rose-700 font-medium transition-all hover:translate-x-1">Heaven</a>
                <a href="Diary.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Diary</a>
                <a href="anatomy.html" class="flex items-center p-3 rounded-xl bg-rose-50/50 hover:bg-rose-100 text-rose-700 font-medium transition-all hover:translate-x-1 bg-yellow-500/10 text-yellow-200 border-yellow-500/30">Anatomy</a>
                <a href="Box.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Box</a>
                <a href="Special.html" class="flex items-center p-3 rounded-xl bg-rose-50/50 hover:bg-rose-100 text-rose-700 font-medium transition-all hover:translate-x-1">Special</a>
                <a href="color.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Color</a>
                <a href="you.html" class="flex items-center p-3 rounded-xl bg-rose-50/50 hover:bg-rose-100 text-rose-700 font-medium transition-all hover:translate-x-1">You</a>
                <a href="Teacher.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Teacher</a>
                <a href="Universe.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Cosmos</a>
                <a href="The_River.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">River</a>
                <a href="Mountain.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Mountain</a>
                <a href="Skill.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Skill</a>
                <a href="Paper_Star.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Star</a>
                <a href="Carttoon.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Cartoon</a>
                <a href="Periodik_table.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Table</a>
                <a href="Concept.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Concept</a>
                <a href="Calender.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Calendar</a>
                <a href="Perspective.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Lens</a>
                <a href="Santa.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Santa</a>
                <a href="Presence.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Presence</a>
                <a href="Cloud.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Cloud</a>
                <a href="Ink.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Paint</a>
                <a href="Butterfly.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Butterfly</a>
                <a href="Weather.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Weather</a>
                <a href="Spotlight.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Spotlight</a>
                <a href="Room.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Room</a>
                <a href="Radio.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Radio</a>
                <a href="Food.html" class="nav-link p-2 rounded-md text-xs font-medium hover:bg-rose-900 transition-colors duration-200 festive-text">Food</a>
                <a href="Music.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Music</a>
                <a href="letter.html" class="flex items-center p-3 rounded-xl bg-rose-50/50 hover:bg-rose-100 text-rose-700 font-medium transition-all hover:translate-x-1">Letter</a>
                <a href="Msg.html" class="flex items-center p-3 rounded-xl hover:bg-rose-50 text-gray-600 hover:text-rose-600 font-medium transition-all hover:translate-x-1">Message</a>
            </div>
            
            <div class="mt-8 pt-6 border-t border-gray-100 text-center">
                 <p class="text-xs text-rose-400 font-medium">‚ú® 34 Little Wonders ‚ú®</p>
            </div>
        </div>
    </div>


    <div id="mainContent" class="absolute inset-0 pt-28 lg:pt-0 overflow-y-auto lg:overflow-hidden z-10 relative">

        <main class="flex-grow lg:h-full">
            
            <div class="lg:hidden flex flex-col">
                <div class="container mx-auto max-w-5xl px-4 py-12">
                    <h1 class="text-4xl sm:text-5xl font-bold text-center text-rose-700 mb-4">
                        The Anatomy of You
                    </h1>
                    <p class="text-center text-lg text-gray-700 mb-12 max-w-2xl mx-auto">
                        Just a few of the countless little things about you that I absolutely adore.
                    </p>

                    <div class="flex flex-col items-center justify-center mt-12">
                        <p class="text-center text-lg text-gray-700 mb-6 max-w-lg mx-auto">
                            They're all here on this dice. Click and drag it to see them all!
                        </p>
                        <div class="scene">
                            <div class="cube" id="mobileCube">
                                <div class="face front"><div class="p-6 text-center w-full"><h3 class="text-xl font-bold text-rose-600 mb-2">Your Radiant Smile</h3><p class="text-sm text-gray-700 leading-snug">It's so bright and genuine, it instantly makes my entire day better. Seeing you smile is like a burst of sunshine.</p></div></div>
                                <div class="face back"><div class="p-6 text-center w-full"><h3 class="text-xl font-bold text-rose-600 mb-2">Your Kind Eyes</h3><p class="text-sm text-gray-700 leading-snug">I love watching them light up when you're happy. They hold so much intelligence and warmth.</p></div></div>
                                <div class="face right"><div class="p-6 text-center w-full"><h3 class="text-xl font-bold text-rose-600 mb-2">Your Joyful Laugh</h3><p class="text-sm text-gray-700 leading-snug">It's my favorite sound. It's so pure and happy, and I love the way your whole face lights up.</p></div></div>
                                <div class="face left"><div class="p-6 text-center w-full"><h3 class="text-xl font-bold text-rose-600 mb-2">Your Gentle Kindness</h3><p class="text-sm text-gray-700 leading-snug">You have such a good heart. The way you care for people is a quiet strength I admire.</p></div></div>
                                <div class="face top"><div class="p-6 text-center w-full"><h3 class="text-xl font-bold text-rose-600 mb-2">Your Sharp Wit</h3><p class="text-sm text-gray-700 leading-snug">Your mind is so quick and clever. I love our conversations and how you make me see the world differently.</p></div></div>
                                <div class="face bottom"><div class="p-6 text-center w-full"><h3 class="text-xl font-bold text-rose-600 mb-2">Your Beautiful Soul</h3><p class="text-sm text-gray-700 leading-snug">It's the core of who you are, and it's what makes you truly special.</p></div></div>
                            </div>
                        </div>
                    </div>
                </div>
                <footer class="text-center py-10 mt-16 bg-white/90 backdrop-blur-sm border-t border-gray-200 relative z-10">
                    <p class="text-gray-600">Made with ‚ù§Ô∏è just for you.</p>
                </footer>
            </div>

            <div class="hidden lg:grid lg:grid-cols-12 lg:h-screen lg:w-full desktop-mode relative">
                
                <div class="hidden lg:block fixed inset-0 pointer-events-none z-50 border-[20px] border-white/20">
                    <div class="absolute inset-4 border-2 border-amber-200/40 rounded-3xl"></div>
                    
                    <svg class="absolute top-8 left-8 w-24 h-24 text-amber-100/50" viewBox="0 0 100 100" fill="none">
                        <path d="M10,10 L40,10 C50,10 50,20 60,20 L90,20" stroke="currentColor" stroke-width="2"/>
                        <path d="M10,10 L10,40 C10,50 20,50 20,60 L20,90" stroke="currentColor" stroke-width="2"/>
                        <circle cx="10" cy="10" r="4" fill="currentColor"/>
                    </svg>
                    
                    <svg class="absolute top-8 right-8 w-24 h-24 text-amber-100/50 transform scale-x-[-1]" viewBox="0 0 100 100" fill="none">
                        <path d="M10,10 L40,10 C50,10 50,20 60,20 L90,20" stroke="currentColor" stroke-width="2"/>
                        <path d="M10,10 L10,40 C10,50 20,50 20,60 L20,90" stroke="currentColor" stroke-width="2"/>
                        <circle cx="10" cy="10" r="4" fill="currentColor"/>
                    </svg>
                    
                    <svg class="absolute bottom-8 left-8 w-24 h-24 text-amber-100/50 transform scale-y-[-1]" viewBox="0 0 100 100" fill="none">
                        <path d="M10,10 L40,10 C50,10 50,20 60,20 L90,20" stroke="currentColor" stroke-width="2"/>
                        <path d="M10,10 L10,40 C10,50 20,50 20,60 L20,90" stroke="currentColor" stroke-width="2"/>
                        <circle cx="10" cy="10" r="4" fill="currentColor"/>
                    </svg>
                    
                    <svg class="absolute bottom-8 right-8 w-24 h-24 text-amber-100/50 transform scale-[-1]" viewBox="0 0 100 100" fill="none">
                        <path d="M10,10 L40,10 C50,10 50,20 60,20 L90,20" stroke="currentColor" stroke-width="2"/>
                        <path d="M10,10 L10,40 C10,50 20,50 20,60 L20,90" stroke="currentColor" stroke-width="2"/>
                        <circle cx="10" cy="10" r="4" fill="currentColor"/>
                    </svg>
                    
                    <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_60%,rgba(0,0,0,0.2)_100%)] rounded-xl pointer-events-none"></div>
                </div>

                <div class="contents lg:block lg:col-span-5 lg:relative lg:z-20 lg:shadow-2xl overflow-hidden bg-gradient-to-br from-indigo-900 to-purple-900 text-white">
                    
                    <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjZmZmIiBmaWxsLW9wYWNpdHk9IjAuMDUiLz4KPC9zdmc+')] opacity-10 z-0"></div>
                    
                    <div class="star w-1 h-1 top-10 left-10" style="animation-delay: 0s;"></div>
                    <div class="star w-2 h-2 top-40 left-1/4" style="animation-delay: 1.5s;"></div>
                    <div class="star w-1 h-1 top-20 right-20" style="animation-delay: 2.2s;"></div>
                    <div class="star w-1.5 h-1.5 bottom-1/3 left-10" style="animation-delay: 0.5s;"></div>
                    <div class="star w-1 h-1 bottom-20 right-1/3" style="animation-delay: 3s;"></div>

                    <div class="hidden lg:block absolute -top-20 -left-20 w-96 h-96 bg-purple-600 rounded-full mix-blend-screen filter blur-[100px] opacity-20 animate-blob"></div>
                    <div class="hidden lg:block absolute bottom-0 right-0 w-80 h-80 bg-indigo-600 rounded-full mix-blend-screen filter blur-[80px] opacity-20 animate-blob animation-delay-2000"></div>

                    <div class="container mx-auto max-w-xl px-12 lg:h-full lg:flex lg:flex-col lg:justify-center relative z-10">
                        <div class="bg-white/5 backdrop-blur-md rounded-[2rem] p-10 border border-white/10 shadow-[0_8px_32px_0_rgba(0,0,0,0.3)] animate-fade-up min-h-[500px] flex flex-col justify-center">
                            
                            <div class="text-center lg:text-left">
                                <div class="inline-block mb-6 transform hover:scale-105 transition-transform duration-300">
                                    <span class="bg-white/10 text-rose-200 px-6 py-2 rounded-full font-bold festive-text text-xl shadow-lg ring-1 ring-white/20 border border-white/10 inline-block animate-float">
                                        Happy Birthday üéÇ
                                    </span>
                                </div>

                                <div id="desktopHeadline" class="relative transition-all duration-500 ease-in-out overflow-hidden max-h-96 opacity-100 mb-8">
                                    <h1 class="text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-200 via-rose-200 to-amber-200 mb-2 leading-tight font-editorial drop-shadow-md text-shimmer">
                                        The Anatomy
                                    </h1>
                                    <h1 class="text-7xl font-bold text-white leading-none relative z-10 font-editorial italic drop-shadow-lg">
                                        of You
                                    </h1>
                                </div>
                                
                                <div class="relative stack-grid">
                                    
                                    <div id="introPanel" class="stack-item opacity-100">
                                        <p class="text-lg text-indigo-100 mb-10 font-medium leading-relaxed drop-shadow-sm">
                                            "On your special day, I wanted to capture all the little pieces of magic that make you who you are. You are a gift to the world."
                                        </p>
                                        
                                        <div class="flex items-center gap-4 p-4 bg-white/5 rounded-2xl w-fit backdrop-blur-md border border-white/10 shadow-lg group hover:bg-white/10 transition-colors">
                                            <div class="flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 text-white shadow-md group-hover:scale-110 transition-transform">
                                                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"></path></svg>
                                            </div>
                                            <div>
                                                <p class="text-purple-200 text-xs font-bold uppercase tracking-widest">Explore</p>
                                                <p class="text-white/60 text-xs mt-0.5">Spin the cube to see details</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="detailPanel" class="stack-item opacity-0-pointer-events-none">
                                        <div class="bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/10 shadow-xl transform transition-transform duration-300 hover:scale-[1.02]">
                                            <div class="flex items-center gap-4 mb-4 pb-4 border-b border-white/10">
                                                <div id="cardIcon" class="text-4xl bg-white/10 w-16 h-16 rounded-full flex items-center justify-center shadow-inner text-white">‚ú®</div>
                                                <div>
                                                    <p class="text-xs font-bold text-purple-300 uppercase tracking-widest mb-1">Currently Viewing</p>
                                                    <h2 id="cardTitle" class="text-2xl font-bold text-white font-pacifico leading-none">Title</h2>
                                                </div>
                                            </div>
                                            <p id="cardDesc" class="text-sm md:text-base lg:text-lg text-indigo-50 leading-relaxed font-medium">Description...</p>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="rightColumn" class="contents lg:flex lg:col-span-7 bg-gradient-to-br from-purple-800 via-fuchsia-900 to-rose-800 lg:relative lg:items-center lg:justify-center lg:overflow-hidden animate-bg-gradient-rich">
                    
                    <div class="hidden lg:block absolute inset-0 z-0 opacity-40 pointer-events-none" style="background-image: radial-gradient(#fff 1px, transparent 1px); background-size: 40px 40px;"></div>

                    <div class="hidden lg:block absolute inset-0 pointer-events-none z-0 overflow-hidden">
                        <div class="particle" style="width: 8px; height: 8px; top: 90%; left: 10%; animation-duration: 12s; animation-delay: 0s;"></div>
                        <div class="particle" style="width: 12px; height: 12px; top: 90%; left: 30%; animation-duration: 15s; animation-delay: 2s;"></div>
                        <div class="particle" style="width: 6px; height: 6px; top: 90%; left: 70%; animation-duration: 10s; animation-delay: 1s;"></div>
                        <div class="particle" style="width: 10px; height: 10px; top: 90%; left: 90%; animation-duration: 18s; animation-delay: 4s;"></div>
                        <div class="particle" style="width: 7px; height: 7px; top: 90%; left: 50%; animation-duration: 14s; animation-delay: 3s;"></div>

                        <div class="solid-struc cube-like w-32 h-32 top-[15%] left-[10%] animate-float-slow opacity-90 rotate-12 shadow-2xl bg-gradient-to-br from-white/40 to-white/5 backdrop-blur-md border border-white/30 mix-blend-overlay"></div>
                        
                        <div class="solid-struc sphere-like w-64 h-64 bottom-[5%] right-[5%] animate-float-slower opacity-80 shadow-2xl bg-gradient-to-br from-white/30 to-white/5 backdrop-blur-md border border-white/30 mix-blend-overlay"></div>
                        
                        <div class="solid-struc cube-like w-20 h-20 top-[12%] right-[15%] rotate-45 animate-float-slow opacity-80 shadow-lg bg-gradient-to-br from-white/40 to-white/10 backdrop-blur-md border border-white/40 mix-blend-screen"></div>
                        
                        <div class="solid-struc pill-like w-32 h-16 bottom-[20%] left-[10%] -rotate-12 animate-float-slow opacity-75 shadow-lg bg-gradient-to-br from-white/40 to-white/10 backdrop-blur-md border border-white/40 mix-blend-screen"></div>
                        
                        <div class="solid-struc sphere-like w-12 h-12 top-[45%] right-[10%] animate-float-slower opacity-70 shadow-md bg-gradient-to-br from-white/50 to-white/20 backdrop-blur-md border border-white/50 mix-blend-overlay"></div>
                        
                        <div class="solid-struc cube-like w-16 h-16 bottom-[40%] right-[30%] animate-rotate-reverse-slow opacity-60 shadow-lg bg-gradient-to-br from-white/40 to-white/10 backdrop-blur-md border border-white/40 mix-blend-overlay"></div>
                    </div>
                    
                    <div class="flex flex-col items-center justify-center pb-12 lg:pb-0 lg:scale-150 transition-transform duration-500 relative z-10 w-full cursor-grab active:cursor-grabbing" id="desktopSceneContainer">
                        <div class="scene animate-float" id="desktopScene">
                            <div class="absolute inset-0 bg-white blur-[60px] rounded-full scale-150 -z-10 hidden lg:block opacity-60"></div>
                            <div class="cube" id="desktopCube">
                                <div class="face front"><div class="p-6 text-center w-full"><h3 class="text-xl font-bold text-rose-600 mb-2">Your Hair</h3><p class="text-sm text-gray-700 leading-snug">When your hair falls loose, your beauty deepens, as if every fairy ever read about in books suddenly finds its living form in you.</p></div></div>
                                <div class="face back"><div class="p-6 text-center w-full"><h3 class="text-xl font-bold text-rose-600 mb-2">Your Kind Eyes</h3><p class="text-sm text-gray-700 leading-snug">I love watching them light up when you're happy. They hold so much intelligence and warmth.</p></div></div>
                                <div class="face right"><div class="p-6 text-center w-full"><h3 class="text-xl font-bold text-rose-600 mb-2">Your Joyful Laugh</h3><p class="text-sm text-gray-700 leading-snug">It's my favorite sound. It's so pure and happy, and I love the way your whole face lights up.</p></div></div>
                                <div class="face left"><div class="p-6 text-center w-full"><h3 class="text-xl font-bold text-rose-600 mb-2">Your Gentle Kindness</h3><p class="text-sm text-gray-700 leading-snug">You have such a good heart. The way you care for people is a quiet strength I admire.</p></div></div>
                                <div class="face top"><div class="p-6 text-center w-full"><h3 class="text-xl font-bold text-rose-600 mb-2">Your Sharp Wit</h3><p class="text-sm text-gray-700 leading-snug">Your mind is so quick and clever. I love our conversations and how you make me see the world differently.</p></div></div>
                                <div class="face bottom"><div class="p-6 text-center w-full"><h3 class="text-xl font-bold text-rose-600 mb-2">Your Beautiful face</h3><p class="text-sm text-gray-700 leading-snug">It's the defination of who you are, and it's what makes you truly special.</p></div></div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>
        
        <div id="customCursor" class="hidden lg:flex fixed top-0 left-0 pointer-events-none items-center justify-center transition-transform duration-75 ease-out opacity-0 z-[9999]">
            <svg class="w-12 h-12 text-rose-500 animate-rotate-slow" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 0L14.59 9.41L24 12L14.59 14.59L12 24L9.41 14.59L0 12L9.41 9.41L12 0Z" />
            </svg>
        </div>
        
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const faceDetails = {
                front: { 
                    title: "Your Hair", 
                    desc: "Jab teri zulf bikhar jaati hai, toh sirf tera chehra hi nahi badalta, poora manzar or khubsurat lagta hai. Us pal tu aur bhi haseen lagti hai, jaise khoobsurti ne khud thoda sa thehar kar tujhe dekha ho. Jo pari, jo kahani, jo khayal sirf kitaabon ke safhon mein dekha tha, woh achanak haqeeqat ka roop le leta hai. Tujhe dekh kar lagta hai jaise woh saari tasveerein, woh saari kalpanaayein, sirf tum tak pahunchne ke liye likhi gayi thi. Tum woh ehsaas ho jo lafzon se aage chala jaata hai, aur jo pal bhar mein dil par apni chhaap chhod jaata hai.", 
                    icon: "‚òÄÔ∏è" 
                },
                back: { 
                    title: "Your Kind Eyes", 
                    desc: "Your eyes carry a rare kind of charm. There‚Äôs something unusual, something quietly captivating about the way they express emotion. They don‚Äôt reveal everything at once, they invite patience. There is intention in their stillness, layers of thought that don‚Äôt rush to the surface. Your eyes hold stories that aren‚Äôt meant to be explained, only sensed. They remain calm, even when carrying complexity, and that restraint is what makes them magnetic. Looking into them feels less like seeing, and more like understanding something that was never meant to be spoken aloud.", 
                    icon: "üëÄ" 
                },
                right: { 
                    title: "Your Joyful Laugh", 
                    desc: "If joy had a sound, it would be your laugh. It‚Äôs unbridled, musical, and completely authentic. Whether it's a soft chuckle or a full-belly laugh that makes you gasp for air, it‚Äôs the soundtrack to my happiest memories. It has this magical ability to dissolve tension and replace it with lightness. I love the way you throw your head back, abandoning all pretense, just pure, unadulterated happiness bubbling over.", 
                    icon: "üòÑ" 
                },
                left: { 
                    title: "Your Gentle Kindness", 
                    desc: "Your kindness isn't a performance, it's your default setting. I watch the way you interact with the world how you treat servers, how you listen to friends in need, how you pause to help without being asked. It‚Äôs a quiet, steady strength that anchors those around you. You have an immense capacity for empathy that makes people valued. Your heart is a rare gem, generous and tender, and it inspires me to be a better person every single day.", 
                    icon: "üïäÔ∏è" 
                },
                top: { 
                    title: "Your Sharp Wit", 
                    desc: "Your mind moves with calm confidence, always curious and deeply aware. It connects ideas naturally, finding clarity where others see complexity. You think with balance, blending logic and intuition in a way that feels effortless. Even when faced with many possibilities, your thoughts stay focused and constructive. Your brain works like a quiet guide, constantly learning, creating, and shaping paths that move you forward with purpose.", 
                    icon: "üß†" 
                },
                bottom: { 
                    title: "Your Beautiful Face", 
                    desc: "Your face is fresh, lively, and blooming like a flower, It's shines so brightly that it feels like the moon, It contain the has the beauty and emotion of a beloved poem. It is is delicate like a bud and pure like a lotus, The face exists both in imagination and in reality, Your face felt like both the dream and its fulfillment, your face feels magical, like a fairytale, At times it feels real, at times unreal, Your face is unlike any other in the world.", 
                    icon: "üíé" 
                }
            };

            const cubes = document.querySelectorAll('.cube');
            const introPanel = document.getElementById('introPanel');
            const detailPanel = document.getElementById('detailPanel');
            const cardTitle = document.getElementById('cardTitle');
            const cardDesc = document.getElementById('cardDesc');
            const cardIcon = document.getElementById('cardIcon');
            const desktopScene = document.getElementById('desktopScene');
            const desktopHeadline = document.getElementById('desktopHeadline');

            let isInteracting = false;
            let currentFace = 'front';

            function updateCard(faceId) {
                if (currentFace === faceId) return;
                currentFace = faceId;
                
                const data = faceDetails[faceId];
                
                cardTitle.textContent = data.title;
                cardDesc.textContent = data.desc;
                cardIcon.textContent = data.icon;
            }

            function showDetails() {
                if (!isInteracting) {
                    isInteracting = true;
                    introPanel.classList.remove('opacity-100');
                    introPanel.classList.add('opacity-0-pointer-events-none');
                    
                    detailPanel.classList.remove('opacity-0-pointer-events-none');
                    detailPanel.classList.add('opacity-100');
                    
                    if(desktopHeadline) {
                        desktopHeadline.classList.remove('max-h-96', 'opacity-100', 'mb-8');
                        desktopHeadline.classList.add('max-h-0', 'opacity-0', 'mb-0');
                    }

                    if(desktopScene) desktopScene.classList.remove('animate-float');
                }
            }

            const customCursor = document.getElementById('customCursor');
            
            if (window.innerWidth >= 1024 && customCursor) {
                const TRAIL_LENGTH = 12; 
                const trailDots = [];
                
                const starSvg = `<svg viewBox="0 0 24 24" fill="currentColor" class="w-full h-full"><path d="M12 0L14.59 9.41L24 12L14.59 14.59L12 24L9.41 14.59L0 12L9.41 9.41L12 0Z" /></svg>`;

                for(let i = 0; i < TRAIL_LENGTH; i++) {
                    const dot = document.createElement('div');
                    dot.classList.add('cursor-trail-dot');
                    dot.innerHTML = starSvg;
                    const size = 16 - (i * 1.2); 
                    dot.style.width = `${Math.max(4, size)}px`;
                    dot.style.height = `${Math.max(4, size)}px`;
                    dot.style.opacity = 0.8 - (i * 0.06); 
                    document.body.appendChild(dot);
                    trailDots.push({ el: dot, x: 0, y: 0 });
                }

                let mouseX = 0;
                let mouseY = 0;

                document.addEventListener('mousemove', (e) => {
                    customCursor.style.opacity = '1';
                    
                    mouseX = e.clientX;
                    mouseY = e.clientY;
                    
                    customCursor.style.transform = `translate(${mouseX - 24}px, ${mouseY - 24}px)`;
                    
                    trailDots.forEach(dot => dot.el.style.display = 'flex');

                    const rightCol = document.getElementById('rightColumn');
                    if(rightCol) {
                        const rect = rightCol.getBoundingClientRect();
                        if (mouseX >= rect.left) {
                            const x = mouseX - rect.left;
                            const y = mouseY - rect.top;
                            rightCol.style.setProperty('--mouse-x', `${x}px`);
                            rightCol.style.setProperty('--mouse-y', `${y}px`);
                        }
                    }
                });

                function updateTrail() {
                    let currX = mouseX;
                    let currY = mouseY;
                    
                    trailDots.forEach((dot, index) => {
                        const delay = 0.2 + (index * 0.03); 
                        
                        dot.x += (currX - dot.x) * delay;
                        dot.y += (currY - dot.y) * delay;
                        
                        const offset = parseFloat(dot.el.style.width) / 2;
                        dot.el.style.transform = `translate(${dot.x - offset}px, ${dot.y - offset}px) rotate(${index * 15}deg)`;
                    });
                    
                    requestAnimationFrame(updateTrail);
                }
                updateTrail();

                document.addEventListener('mouseleave', () => {
                    customCursor.style.opacity = '0';
                    trailDots.forEach(dot => dot.el.style.display = 'none');
                });
                
                trailDots.forEach(dot => dot.el.style.display = 'none');

                document.addEventListener('mousedown', () => {
                    customCursor.querySelector('svg').style.transform = 'scale(0.8)';
                });

                document.addEventListener('mouseup', () => {
                    customCursor.querySelector('svg').style.transform = 'scale(1)';
                });
            }

            if (cubes.length > 0) {
                let isDragging = false, previousX = 0, previousY = 0, rotationX = -20, rotationY = -30, velocityX = 0, velocityY = 0, animationFrameId = null;
                const DAMPING_FACTOR = 0.95, SENSITIVITY = 0.5;

                function applyRotation() { 
                    cubes.forEach(cube => {
                        cube.style.transform = `rotateX(${rotationX}deg) rotateY(${rotationY}deg)`; 
                    });
                    
                    const rx = rotationX * Math.PI / 180;
                    const ry = rotationY * Math.PI / 180;
                    
                    const scores = {
                        front:  Math.cos(rx) * Math.cos(ry),
                        back:   -Math.cos(rx) * Math.cos(ry),
                        right:  -Math.sin(ry), 
                        left:   Math.sin(ry),
                        top:    -Math.sin(rx) * Math.cos(ry),
                        bottom: Math.sin(rx) * Math.cos(ry)
                    };
                    
                    let maxScore = -Infinity;
                    let bestFace = 'front';
                    
                    for (const [face, score] of Object.entries(scores)) {
                        if (score > maxScore) {
                            maxScore = score;
                            bestFace = face;
                        }
                    }
                    
                    if (window.innerWidth >= 1024) { 
                        updateCard(bestFace);
                    }
                }
                applyRotation();

                function animateInertia() {
                    if (!isDragging) {
                        rotationY += velocityY; rotationX -= velocityX;
                        velocityX *= DAMPING_FACTOR; velocityY *= DAMPING_FACTOR;
                        applyRotation();
                        if (Math.abs(velocityX) < 0.1 && Math.abs(velocityY) < 0.1) {
                            cancelAnimationFrame(animationFrameId); animationFrameId = null; return;
                        }
                    }
                    animationFrameId = requestAnimationFrame(animateInertia);
                }

                function startDrag(clientX, clientY) {
                    if (animationFrameId) { cancelAnimationFrame(animationFrameId); animationFrameId = null; }
                    isDragging = true; previousX = clientX; previousY = clientY; velocityX = 0; velocityY = 0;
                    cubes.forEach(cube => cube.style.transition = 'none');
                    
                    if (window.innerWidth >= 1024) showDetails(); 
                }

                function performDrag(clientX, clientY) {
                    if (!isDragging) return;
                    const deltaX = clientX - previousX, deltaY = clientY - previousY;
                    rotationY += deltaX * SENSITIVITY; rotationX -= deltaY * SENSITIVITY;
                    velocityX = deltaY * SENSITIVITY; velocityY = deltaX * SENSITIVITY;
                    applyRotation(); previousX = clientX; previousY = clientY;
                }

                function stopDrag() {
                    isDragging = false; 
                    cubes.forEach(cube => cube.style.transition = 'transform 0.05s linear');
                    if (!animationFrameId) animateInertia();
                }

                cubes.forEach(cube => {
                    cube.addEventListener('mousedown', (e) => { startDrag(e.clientX, e.clientY); e.preventDefault(); });
                    cube.addEventListener('touchstart', (e) => { startDrag(e.touches[0].clientX, e.touches[0].clientY); e.preventDefault(); }, { passive: false });
                });

                window.addEventListener('mousemove', (e) => { performDrag(e.clientX, e.clientY); });
                window.addEventListener('mouseup', stopDrag);
                window.addEventListener('mouseleave', () => { if (isDragging) stopDrag(); });
                window.addEventListener('touchmove', (e) => { performDrag(e.touches[0].clientX, e.touches[0].clientY); e.preventDefault(); }, { passive: false });
                window.addEventListener('touchend', stopDrag);
            }

            const topNav = document.getElementById('topNav'), bottomNav = document.getElementById('bottomNav'), leftNav = document.getElementById('leftNav'), rightNav = document.getElementById('rightNav'), navToggle = document.getElementById('navToggle'), mainContent = document.getElementById('mainContent');
            let areNavsOpen = false;
            function toggleNavs() {
                areNavsOpen = !areNavsOpen;
                topNav.classList.toggle('-translate-y-full', !areNavsOpen);
                bottomNav.classList.toggle('translate-y-full', !areNavsOpen);
                leftNav.classList.toggle('-translate-x-full', !areNavsOpen);
                rightNav.classList.toggle('translate-x-full', !areNavsOpen);
                mainContent.classList.toggle('pt-16', areNavsOpen); mainContent.classList.toggle('pb-16', areNavsOpen); mainContent.classList.toggle('pl-24', areNavsOpen); mainContent.classList.toggle('pr-24', areNavsOpen); mainContent.classList.toggle('pt-28', !areNavsOpen);
                document.getElementById('navToggleIcon').classList.toggle('hidden', areNavsOpen);
                document.getElementById('navToggleX').classList.toggle('hidden', !areNavsOpen);
            }
            if(navToggle) navToggle.addEventListener('click', (e) => { e.stopPropagation(); toggleNavs(); });
            mainContent.addEventListener('click', () => { if (areNavsOpen) toggleNavs(); });

            const desktopBtn = document.getElementById('desktopNavToggle'), desktopMenu = document.getElementById('desktopNavMenu'), desktopBurger = document.getElementById('desktopBurger'), desktopClose = document.getElementById('desktopClose');
            let isDesktopOpen = false;
            
            function toggleDesktopNav() {
                isDesktopOpen = !isDesktopOpen;
                if (isDesktopOpen) {
                     desktopMenu.classList.remove('-translate-x-[150%]'); 
                     desktopBurger.classList.add('hidden'); 
                     desktopClose.classList.remove('hidden'); 
                     desktopBtn.classList.add('bg-white', 'text-rose-600', 'shadow-xl');
                } else {
                     desktopMenu.classList.add('-translate-x-[150%]'); 
                     desktopBurger.classList.remove('hidden'); 
                     desktopClose.classList.add('hidden'); 
                     desktopBtn.classList.remove('bg-white', 'text-rose-600', 'shadow-xl');
                }
            }
            
            if (desktopBtn) {
                desktopBtn.addEventListener('click', (e) => { e.stopPropagation(); toggleDesktopNav(); });
                desktopMenu.addEventListener('click', (e) => { e.stopPropagation(); });
                document.addEventListener('click', (e) => { 
                    if (isDesktopOpen && !desktopMenu.contains(e.target) && !desktopBtn.contains(e.target)) {
                        toggleDesktopNav(); 
                    }
                });
            }
        });
    </script>
</body>
</html>