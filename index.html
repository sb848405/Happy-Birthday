<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birthday Queen's Special</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gochi+Hand&family=Dancing+Script:wght@400;700&family=Inter:wght@400;500;700&family=Pacifico&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden; 
        }

        .nav-panel, #navToggleIcon, #navToggleX {
            transition: all 0.3s ease-in-out;
        }
        .nav-panel {
            -ms-overflow-style: none;  
            scrollbar-width: none;  
        }
        .nav-panel::-webkit-scrollbar {
            display: none; 
        }
        h1, h2, h3 {
            font-family: 'Pacifico', cursive; 
        }
        .festive-text, .birthday-message { 
            font-family: 'Gochi Hand', cursive;
        }
        .modal-backdrop {
            background-color: rgba(0, 0, 0, 0.75);
        }
        
        #lock-screen {
            /* Using the same cool cosmic background for consistency */
            background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
            z-index: 100;
        }
        
        #initial-screen {
            background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
        }
        @keyframes twinkle {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }
        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle 4s infinite ease-in-out;
        }
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.98);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        #step1-screen .content-card {
            animation: fadeInUp 0.8s ease-out;
            position: absolute; 
            top: 50%; 
            left: 50%; 
            transform: translate(-50%, -50%); 
        }

        #step1-screen {
            background: radial-gradient(circle, #4a0080 0%, #000020 100%);
        }
        #step1-screen img {
            box-shadow: 0 0 15px #ffffff, 0 0 5px #f0abfc;
        }
        
        #step1-ok-btn {
            background-image: linear-gradient(to right, #8e2de2, #4a00e0);
            animation: pulse-simple 2s infinite;
            box-shadow: 0 10px 20px -10px rgba(142, 45, 226, 0.5);
        }
        

        @keyframes pulse-simple {
            0%, 100% { 
                transform: scale(1); 
            }
            50% { 
                transform: scale(1.05); 
            }
        }


        .lamp-cord {
            width: 4px; /* Slightly thicker */
            height: 120px; /* Longer cord */
            background-color: #373055;
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            transition: opacity 0.5s ease-in-out; 
        }

        .lamp-shade {
            width: 250px; /* Larger shade */
            height: 140px; /* Taller shade */
            background: linear-gradient(to bottom, #f8d0e8, #e0b0d0);
            border-radius: 0 0 40% 40% / 0 0 100% 100%;
            position: absolute;
            top: 120px; /* Positioned lower to match longer cord */
            left: 50%;
            transform: translateX(-50%);
            z-index: 10; 
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: opacity 0.5s ease-in-out; 
        }
        
        .lamp-glow {
            width: 100%;
            height: 100%;
            border-radius: inherit;
            background: #fcf4f9;
            box-shadow: 0 0 0px 0px #fcf4f9;
            opacity: 0.5; 
            transition: box-shadow 1.5s ease-out, opacity 1.5s ease-out;
        }

        .spotlight {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 1;
            mix-blend-mode: lighten;
            transition: clip-path 1.5s ease-in-out;
            z-index: 30; 
        }
        
        #spotlight-red {
            background-color: rgba(255, 69, 58, 0.9); 
            clip-path: polygon(100% 75%, 100% 75%, 100% 75%);
        }

        #spotlight-orange {
            background-color: rgba(255, 149, 0, 0.9); 
            clip-path: polygon(0% 75%, 0% 75%, 0% 75%);
        }

        #spotlight-yellow {
            background-color: rgba(255, 214, 10, 0.9); 
            clip-path: polygon(100% 25%, 100% 25%, 100% 25%);
        }

        #spotlight-green {
            background-color: rgba(50, 215, 75, 0.9);
            clip-path: polygon(25% 0%, 25% 0%, 25% 0%);
        }

        #spotlight-blue {
            background-color: rgba(10, 132, 255, 0.9); 
            clip-path: polygon(75% 100%, 75% 100%, 75% 100%);
        }
        
        #spotlight-indigo {
            background-color: rgba(90, 200, 250, 0.9); 
            clip-path: polygon(25% 100%, 25% 100%, 25% 100%);
        }

        #spotlight-violet {
            background-color: rgba(190, 75, 219, 0.9); 
            clip-path: polygon(75% 0%, 75% 0%, 75% 0%);
        }
        
        #spotlight-magenta { 
            background-color: rgba(255, 20, 147, 0.9); 
            clip-path: polygon(0% 25%, 0% 25%, 0% 25%);
        }
        .sprinkle {
            position: absolute;
            width: 8px;
            height: 16px;
            background-color: #f00;
            opacity: 0;
            animation: fall 5s linear infinite;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100px) rotateZ(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotateZ(720deg);
                opacity: 0;
            }
        }
        
        #sprinkle-container-final {
            z-index: 80; 
        }

        .sequence-text-style {
            font-family: 'Dancing Script', cursive; 
            font-size: 2.5rem; 
            line-height: 1.4;
            text-align: center;
            background: linear-gradient(90deg, #FFD700, #FF8C00, #FF4500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 2px 10px rgba(255, 215, 0, 0.3);
            white-space: pre-wrap; 
        }
        
        .sequence-text-style-long {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem; 
            line-height: 1.4;
            text-align: center;
            background: linear-gradient(90deg, #FFD700, #FF8C00, #FF4500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 2px 10px rgba(255, 215, 0, 0.3);
            white-space: pre-wrap; 
        }

        .sequence-text-style-bold {
            font-family: 'Inter', sans-serif;
            font-weight: 900;
            font-size: 4rem;
            text-align: center;
            color: #dc2626; 
            text-shadow: 0 0 15px rgba(239, 68, 68, 0.5);
        }
        
        .sequence-text-style-transition {
             font-family: 'Gochi Hand', cursive;
             font-size: 2.5rem; 
             text-align: center;
             color: #e5e7eb; 
             text-shadow: 0 0 10px rgba(229, 231, 235, 0.3);
        }

        @media (max-width: 640px) {
            .sequence-text-style {
                font-size: 1.75rem; 
            }
            .sequence-text-style-long {
                font-size: 1.5rem; 
            }
            .sequence-text-style-bold {
                font-size: 2.5rem; 
            }
            .sequence-text-style-transition {
                font-size: 1.75rem; 
            }
        }

        @keyframes textFadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes textFadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-10px); }
        }
        .text-fade-in {
            animation: textFadeIn 0.5s ease-out forwards;
        }
        .text-fade-out {
            animation: textFadeOut 0.5s ease-in forwards;
        }
        
        #text-sequence-container {
            position: absolute;
            top: 50%; 
            left: 50%; 
            transform: translate(-50%, -50%); 
            width: 90%;
            max-width: 800px; 
            z-index: 40; 
            min-height: 200px; 
        }
        
        .typewrite > .wrap { 
            border-right: 0.08em solid #fff;
            animation: blink-caret 0.75s step-end infinite;
            display: inline-block;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #fff; }
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 h-full m-0 p-0">

    <div id="app-container" class="relative w-full h-full">

        <div id="lock-screen" class="w-full h-full flex flex-col items-center justify-center p-4 sm:p-8 relative overflow-hidden text-white">
            <div class="relative z-10 w-full max-w-lg p-8 sm:p-12 bg-gray-900/80 backdrop-blur-md rounded-2xl shadow-2xl border border-gray-700">
                <h1 class="text-4xl sm:text-5xl font-bold text-pink-500 text-center mb-6" style="font-family: 'Pacifico', cursive;">
                    Access Locked ðŸ”’
                </h1>
                <p class="text-xl text-center mb-6 festive-text text-pink-300">
                    The magic is building. Count down to your royal moment:
                </p>
                <div id="countdown-timer" class="text-center">
                </div>
            </div>
            <div id="star-container-lock" class="absolute inset-0 w-full h-full pointer-events-none"></div>
        </div>

        <div id="initial-screen" class="hidden w-full h-full flex flex-col items-center justify-center p-4 sm:p-8 relative overflow-hidden">
            <div id="star-container" class="absolute inset-0 w-full h-full pointer-events-none"></div>

            <div class="relative z-10 w-full max-w-md p-8 sm:p-12 bg-white/10 backdrop-blur-md rounded-2xl shadow-2xl border border-white/20">
                <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold text-white text-center shadow-lg mb-12">
                    Are You the Birthday Queen?
                </h1>
                <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-8 w-full">
                    <button id="yes-btn" class="flex-1 px-8 py-4 bg-purple-600 text-white text-xl sm:text-2xl font-bold rounded-lg shadow-xl hover:bg-purple-700 transform hover:scale-105 transition duration-300">
                        Yes
                    </button>
                    <button id="no-btn" class="flex-1 px-8 py-4 bg-gray-900/30 text-white text-xl sm:text-2xl font-bold rounded-lg shadow-xl hover:bg-gray-900/50 transform hover:scale-105 transition duration-300 border border-white/20">
                        No
                    </button>
                </div>
            </div>
        </div>

        <div id="step1-screen" class="hidden w-full h-full p-4 sm:p-8 overflow-hidden">
            
            <div id="sprinkle-container-1" class="absolute top-0 left-0 w-full h-full pointer-events-none z-10"></div>
            
            <div class="content-card relative z-20 flex flex-col items-center w-full max-w-md p-6 sm:p-8 bg-black/20 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20">

                <p class="birthday-message text-2xl text-white mb-8 text-center">
                    Happy Birthday my birthday queen
                </p>
                
                <img src="Cute-Durga.jpg" alt="Birthday Queen" class="rounded-lg shadow-2xl border-4 border-white mb-6 w-full max-w-sm h-auto" onerror="this.src='https://placehold.co/600x400/f472b6/ffffff?text=Birthday+Queen';">
                
                <button id="step1-ok-btn" class="px-10 py-4 text-white text-xl sm:text-2xl font-bold rounded-lg shadow-xl hover:bg-blue-700 transform hover:scale-105 transition-transform duration-300">
                    Thanks
                </button>

            </div>
        </div>

        <div id="main-show-screen" class="hidden w-full h-full flex-col items-center justify-center bg-black overflow-hidden p-4 sm:p-8" id="mainContent">
            
            <div id="lamp-cord" class="lamp-cord"></div>
            <div id="lamp-shade" class="lamp-shade">
                <div id="lamp-glow" class="lamp-glow"></div>
            </div>

            <div id="spotlight-red" class="spotlight"></div>
            <div id="spotlight-orange" class="spotlight"></div>
            <div id="spotlight-yellow" class="spotlight"></div>
            <div id="spotlight-green" class="spotlight"></div>
            <div id="spotlight-blue" class="spotlight"></div>
            <div id="spotlight-indigo" class="spotlight"></div>
            <div id="spotlight-violet" class="spotlight"></div>
            <div id="spotlight-magenta" class="spotlight"></div> 

            <div id="text-sequence-container" class="opacity-0">
                <p id="sequence-text" class="typewrite" data-period="2000" data-type='[]'></p>
            </div>

            <div id="final-photo-container" class="relative z-[50] opacity-0 transition-opacity duration-1000 scale-90 transform w-full px-4"
                 style="position: absolute; top: 60%; left: 50%; transform: translate(-50%, -50%) scale(0.9);">
                <img src="Main.jpg" alt="Happy Birthday" class="rounded-lg shadow-2xl border-4 border-white w-full max-w-sm h-auto mx-auto" onerror="this.src='https://placehold.co/600x400/8b5cf6/ffffff?text=Happy+Birthday';">
                
                <h2 id="special-wish" class="text-3xl sm:text-4xl text-white text-center mt-8" style="font-family: 'Gochi Hand', cursive; text-shadow: 0 0 10px #f0abfc;">
                    Happy Birthday to the one who makes the world brighter. âœ¨
                </h2>
               </div>

            <div id="sprinkle-container-final" class="absolute top-0 left-0 w-full h-full pointer-events-none"></div>
        </div>

        <button id="navToggle" class="hidden fixed top-6 left-6 z-[70] p-2 bg-purple-600 text-white rounded-full shadow-lg hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2">
            <svg id="navToggleIcon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-8 6h8"></path></svg>
            <svg id="navToggleX" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>

        <nav id="topNav" class="nav-panel fixed top-0 left-0 right-0 z-[60] h-16 bg-purple-600 text-yellow-100 shadow-md flex items-center justify-center space-x-6 -translate-y-full">
            <a href="index.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Home</a>
            <a href="Special.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Special</a>
            <a href="letter.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Letter</a>
        </nav>

        <nav id="bottomNav" class="nav-panel fixed bottom-0 left-0 right-0 z-[60] h-16 bg-purple-600 text-yellow-100 shadow-md flex items-center justify-center space-x-6 translate-y-full">
            <a href="anatomy.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Anatomy</a>
            <a href="chat.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Heaven</a>
            <a href="you.html" class="nav-link px-3 py-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">You</a>
        </nav>

        <nav id="leftNav" class="nav-panel fixed left-0 top-0 bottom-0 z-[60] w-20 bg-purple-800 text-yellow-100 shadow-md flex flex-col items-center space-y-6 -translate-x-full overflow-y-auto py-20">
            <a href="Diary.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Diary</a>
            <a href="Universe.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Universe</a>
            <a href="Box.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Box</a>
            <a href="color.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Color</a>
            <a href="Teacher.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Teacher</a>
            <a href="The_River.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">River</a>
            <a href="Mountain.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Mountain</a>
            <a href="Paper_Star.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Paper Star</a>
            <a href="Carttoon.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Cartoon</a>
            <a href="Santa.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Santa</a>
            <a href="Cloud.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Cloud</a>
            <a href="Ink.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Paint</a>
            <a href="Butterfly.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Butterfly</a>
            <a href="Weather.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Weather</a>
        </nav>

        <nav id="rightNav" class="nav-panel fixed right-0 top-0 bottom-0 z-[60] w-20 bg-purple-800 text-yellow-100 shadow-md flex flex-col items-center space-y-6 translate-x-full overflow-y-auto py-20">
            <a href="Skill.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Skill</a>
            <a href="Msg.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Massege</a>
            <a href="21_Wish.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">21_Door</a>
            <a href="Cake.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Cake</a>
            <a href="Periodik_table.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Periodik_table</a>
            <a href="Presence.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Presence</a>
            <a href="Concept.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Concept</a>
            <a href="Calender.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Calender</a>
            <a href="Perspective.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Perspective</a>
            <a href="Spotlight.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Spotlight</a>
            <a href="Room.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Room</a>
            <a href="Radio.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Radio</a>
            <a href="Food.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Food</a>
            <a href="Music.html" class="nav-link p-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200 festive-text">Music</a>
        </nav>
        
        <div id="no-modal" class="hidden fixed inset-0 w-full h-full flex items-center justify-center z-[100]">
            <div class="modal-backdrop absolute inset-0 w-full h-full"></div>
            <div class="relative z-10 bg-white dark:bg-gray-800 p-8 rounded-lg shadow-2xl max-w-sm w-full mx-4">
                <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">Hold On!</h3>
                <p class="text-lg text-gray-700 dark:text-gray-300 mb-6">
                    Call the birthday girl for approval.
                </p>
                <button id="no-modal-ok-btn" class="w-full px-6 py-3 bg-blue-600 text-white text-lg font-bold rounded-lg shadow-lg hover:bg-blue-700 transition-colors duration-300">
                    Thanks
                </button>
            </div>
        </div>

    </div> 

    <script>
        const lockDate = new Date('2025-12-26T00:00:00'); 
        const ONE_DAY = 1000 * 60 * 60 * 24;
        const ONE_HOUR = 1000 * 60 * 60;
        const ONE_MINUTE = 1000 * 60;
        const ONE_SECOND = 1000;
        let countdownInterval;
        
        const lockScreen = document.getElementById('lock-screen');
        const countdownTimer = document.getElementById('countdown-timer');
        const starContainerLock = document.getElementById('star-container-lock'); 

        const initialScreen = document.getElementById('initial-screen');
        const step1Screen = document.getElementById('step1-screen');
        const mainShowScreen = document.getElementById('main-show-screen');
        const noModal = document.getElementById('no-modal');
        const yesBtn = document.getElementById('yes-btn');
        const noBtn = document.getElementById('no-btn');
        const noModalOkBtn = document.getElementById('no-modal-ok-btn');
        const step1OkBtn = document.getElementById('step1-ok-btn');
        const sprinkleContainer1 = document.getElementById('sprinkle-container-1');
        const sprinkleContainerFinal = document.getElementById('sprinkle-container-final');
        const starContainer = document.getElementById('star-container'); 
        const spotlightRed = document.getElementById('spotlight-red');
        const spotlightOrange = document.getElementById('spotlight-orange');
        const spotlightYellow = document.getElementById('spotlight-yellow');
        const spotlightGreen = document.getElementById('spotlight-green');
        const spotlightBlue = document.getElementById('spotlight-blue');
        const spotlightIndigo = document.getElementById('spotlight-indigo');
        const spotlightViolet = document.getElementById('spotlight-violet');
        const spotlightMagenta = document.getElementById('spotlight-magenta');
        const finalPhotoContainer = document.getElementById('final-photo-container');
        const lampCord = document.getElementById('lamp-cord');
        const lampShade = document.getElementById('lamp-shade');
        const lampGlow = document.getElementById('lamp-glow'); 
        const topNav = document.getElementById('topNav');
        const bottomNav = document.getElementById('bottomNav');
        const leftNav = document.getElementById('leftNav');
        const rightNav = document.getElementById('rightNav');
        const navLinks = document.querySelectorAll('.nav-link');
        const mainContent = document.getElementById('mainContent'); 
        const navToggle = document.getElementById('navToggle');
        const navToggleIcon = document.getElementById('navToggleIcon');
        const navToggleX = document.getElementById('navToggleX');
        const textSequenceContainer = document.getElementById('text-sequence-container');
        const sequenceText = document.getElementById('sequence-text');
        let areNavsOpen = false;
        let sprinkleInterval1;
        let sprinkleIntervalFinal;
        const colors = ['#f87171', '#ec4899', '#a855f7', '#3b82f6', '#facc15', '#4ade80', '#2dd4bf'];

        // --- Core Functions ---

        function createSprinkle(container) {
            const sprinkle = document.createElement('div');
            sprinkle.className = 'sprinkle';
            sprinkle.style.left = `${Math.random() * 100}vw`;
            sprinkle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            sprinkle.style.animationDuration = `${3 + Math.random() * 3}s`;
            sprinkle.style.animationDelay = `${Math.random() * 2}s`;
            
            container.appendChild(sprinkle);
            
            setTimeout(() => {
                sprinkle.remove();
            }, 6000);
        }

        function createStar(container) {
            if (!container) return;
            const star = document.createElement('div');
            star.className = 'star';
            const size = Math.random() * 2 + 1; 
            star.style.width = `${size}px`;
            star.style.height = `${size}px`;
            star.style.top = `${Math.random() * 100}%`;
            star.style.left = `${Math.random() * 100}%`;
            star.style.animationDelay = `${Math.random() * 4}s`;
            star.style.animationDuration = `${3 + Math.random() * 3}s`;
            
            container.appendChild(star);
            
            setTimeout(() => {
                star.remove();
            }, 6000);
        }

        function startSprinkles(container) {
            const interval = 250; 
            
            if (container === sprinkleContainer1) {
                if (sprinkleInterval1) clearInterval(sprinkleInterval1);
                sprinkleInterval1 = setInterval(() => createSprinkle(container), interval);
            } else if (container === sprinkleContainerFinal) {
                if (sprinkleIntervalFinal) clearInterval(sprinkleIntervalFinal);
                sprinkleIntervalFinal = setInterval(() => createSprinkle(container), interval);
            }
        }

        function stopSprinkles(container) {
            if (container === sprinkleContainer1) {
                clearInterval(sprinkleInterval1);
            } else if (container === sprinkleContainerFinal) {
                clearInterval(sprinkleIntervalFinal);
            }
            if (container) {
                container.innerHTML = ''; 
            }
        }

        function initStars(container) {
            if (!container) return;
            for(let i = 0; i < 50; i++) {
                createStar(container);
            }
            setInterval(() => createStar(container), 200);
        }

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = lockDate.getTime() - now;

            if (distance < 0) {
                if (lockScreen) lockScreen.classList.add('hidden');
                if (initialScreen) initialScreen.classList.remove('hidden');
                initStars(starContainer); 
                clearInterval(countdownInterval);
                return;
            }

            const days = Math.floor(distance / ONE_DAY);
            const hours = Math.floor((distance % ONE_DAY) / ONE_HOUR);
            const minutes = Math.floor((distance % ONE_HOUR) / ONE_MINUTE);
            const seconds = Math.floor((distance % ONE_MINUTE) / ONE_SECOND);

            if (countdownTimer) {
                countdownTimer.innerHTML = `
                    <div class="flex justify-center space-x-2 sm:space-x-4 text-white">
                        <div class="flex flex-col items-center p-2 rounded-lg bg-white/10 min-w-[70px]">
                            <span class="text-4xl sm:text-6xl font-extrabold text-pink-500">${days}</span>
                            <span class="text-sm sm:text-lg festive-text text-gray-300">Days</span>
                        </div>
                        <div class="flex flex-col items-center p-2 rounded-lg bg-white/10 min-w-[70px]">
                            <span class="text-4xl sm:text-6xl font-extrabold text-pink-500">${hours}</span>
                            <span class="text-sm sm:text-lg festive-text text-gray-300">Hours</span>
                        </div>
                        <div class="flex flex-col items-center p-2 rounded-lg bg-white/10 min-w-[70px]">
                            <span class="text-4xl sm:text-6xl font-extrabold text-pink-500">${minutes}</span>
                            <span class="text-sm sm:text-lg festive-text text-gray-300">Minutes</span>
                        </div>
                        <div class="flex flex-col items-center p-2 rounded-lg bg-white/10 min-w-[70px]">
                            <span class="text-4xl sm:text-6xl font-extrabold text-pink-500">${seconds}</span>
                            <span class="text-sm sm:text-lg festive-text text-gray-300">Seconds</span>
                        </div>
                    </div>
                `;
            }
        }

        function initCountdownLock() {
            const now = new Date().getTime();
            const distance = lockDate.getTime() - now;

            if (distance < 0) {
                if (lockScreen) lockScreen.classList.add('hidden');
                if (initialScreen) initialScreen.classList.remove('hidden');
                initStars(starContainer); 
            } else {
                if (lockScreen) lockScreen.classList.remove('hidden');
                if (initialScreen) initialScreen.classList.add('hidden');
                
                initStars(starContainerLock); 
                updateCountdown();
                countdownInterval = setInterval(updateCountdown, 1000);
            }
        }

        function openAllNavs() {
            if (topNav) topNav.classList.remove('-translate-y-full');
            if (bottomNav) bottomNav.classList.remove('translate-y-full');
            if (leftNav) leftNav.classList.remove('-translate-x-full');
            if (rightNav) rightNav.classList.remove('translate-x-full');
            if (navToggleIcon) navToggleIcon.classList.add('hidden');
            if (navToggleX) navToggleX.classList.remove('hidden');
            areNavsOpen = true;
        }

        function closeAllNavs() {
            if (topNav) topNav.classList.add('-translate-y-full');
            if (bottomNav) bottomNav.classList.add('translate-y-full');
            if (leftNav) leftNav.classList.add('-translate-x-full');
            if (rightNav) rightNav.classList.add('translate-x-full');
            if (navToggleIcon) navToggleIcon.classList.remove('hidden');
            if (navToggleX) navToggleX.classList.add('hidden');
            areNavsOpen = false;
        }

        function toggleAllNavs() {
            if (areNavsOpen) {
                closeAllNavs();
            } else {
                openAllNavs();
            }
        }
        
        // --- Event Listeners and Initial Load ---
        document.addEventListener('DOMContentLoaded', () => {
            initCountdownLock(); // NEW: Start the lock logic immediately
        });

        if (noBtn) {
            noBtn.addEventListener('click', () => {
                if (noModal) noModal.classList.remove('hidden');
            });
        }

        if (noModalOkBtn) {
            noModalOkBtn.addEventListener('click', () => {
                if (noModal) noModal.classList.add('hidden');
            });
        }

        if (yesBtn) {
            yesBtn.addEventListener('click', async () => {
                await Tone.start();
                console.log('Audio Context Started');
                
                if (initialScreen) initialScreen.classList.add('hidden');
                if (step1Screen) step1Screen.classList.remove('hidden');
                startSprinkles(sprinkleContainer1);

                if(navToggle) navToggle.classList.remove('hidden');
            });
        }

        if (step1OkBtn) {
            step1OkBtn.addEventListener('click', async () => {
                await Tone.start();
                
                if (step1Screen) step1Screen.classList.add('hidden');
                stopSprinkles(sprinkleContainer1);
                
                if (mainShowScreen) mainShowScreen.classList.remove('hidden');
                startNewSequence();
            });
        }

        if (navToggle) {
            navToggle.addEventListener('click', (e) => {
                e.stopPropagation(); 
                toggleAllNavs();
            });
        }
        
        function createContentClickListener(element) {
            if (element) {
                element.addEventListener('click', (e) => {
                    if (areNavsOpen) {
                        if (e.target === element || e.target === textSequenceContainer || e.target === finalPhotoContainer) {
                           closeAllNavs();
                        }
                    }
                });
            }
        }
        
        if (step1Screen) {
            step1Screen.addEventListener('click', (e) => {
                const contentCard = step1Screen.querySelector('.content-card');
                if (areNavsOpen && contentCard && !contentCard.contains(e.target)) {
                    closeAllNavs();
                }
            });
        }

        createContentClickListener(mainShowScreen); 
        if (textSequenceContainer) {
            textSequenceContainer.addEventListener('click', () => {
                if (areNavsOpen) closeAllNavs();
            });
        }
        if (finalPhotoContainer) {
            finalPhotoContainer.addEventListener('click', () => {
                if (areNavsOpen) closeAllNavs();
            });
        }


        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                const targetHash = e.currentTarget.getAttribute('href');
                
                if (targetHash && targetHash.startsWith('#')) {
                    e.preventDefault();
                    if (areNavsOpen) {
                        closeAllNavs();
                    }
                }
            });
        });

        var TxtType = function(el, toRotate, period) {
            this.toRotate = toRotate;
            this.el = el;
            this.loopNum = 0;
            this.period = parseInt(period, 10) || 2000;
            this.txt = '';
            this.isDeleting = false;
            this.onComplete = null; 
            this.tick();
        };

        TxtType.prototype.tick = function() {
            var i = this.loopNum % this.toRotate.length;
            var fullTxt = this.toRotate[i];

            if (this.isDeleting) {
                this.txt = fullTxt.substring(0, this.txt.length - 1);
            } else {
                this.txt = fullTxt.substring(0, this.txt.length + 1);
            }

            this.el.innerHTML = '<span class="wrap">' + this.txt.replace(/\n/g, '<br>') + '</span>';

            var that = this;
            var delta = 100 - Math.random() * 50; 

            if (this.isDeleting) { delta /= 4; } 

            if (!this.isDeleting && this.txt === fullTxt) {
                delta = this.period;
                this.isDeleting = true;
            } else if (this.isDeleting && this.txt === '') {
                this.isDeleting = false;
                this.loopNum++;
                delta = 500; 
            }
            
            if (this.loopNum === this.toRotate.length) {
                if (this.onComplete) {
                    this.onComplete(); 
                }
             
                const wrap = this.el.querySelector('.wrap');
                if (wrap) {
                    wrap.style.borderRight = 'none';
                    wrap.style.animation = 'none';
                }
                return;
            }

            setTimeout(function() {
                that.tick();
            }, delta);
        };

        const sleep = (ms) => new Promise(resolve => setTimeout(resolve, ms));

        const updateText = async (text, styleType = 'normal') => {
            if (!sequenceText) return;
            sequenceText.classList.remove('text-fade-in');
            sequenceText.classList.add('text-fade-out');
            await sleep(500); 

            sequenceText.className = ''; 
            
            if (styleType === 'bold') {
                sequenceText.classList.add('sequence-text-style-bold');
            } else if (styleType === 'transition') {
                sequenceText.classList.add('sequence-text-style-transition');
            } else if (styleType === 'long') {
                sequenceText.classList.add('sequence-text-style-long');
            } else {
                sequenceText.classList.add('sequence-text-style');
            }
            
            sequenceText.innerHTML = text.replace(/\n/g, '<br>');
            sequenceText.classList.add('text-fade-in'); 
        };

        async function startNewSequence() {
            if (!textSequenceContainer || !sequenceText) return;
            
            textSequenceContainer.style.opacity = '1';
            
            await updateText("Sirf Thanks?\n\nOk... let me try something better.", 'transition');
            await sleep(4000); 

            await updateText("SORRY for the inconvinece", 'bold');
            await sleep(2000); 
            
            sequenceText.classList.remove('text-fade-in');
            sequenceText.classList.add('text-fade-out');
            if (lampCord) lampCord.style.opacity = '0';
            if (lampShade) lampShade.style.opacity = '0';
            
            await sleep(500); 
            
            sequenceText.className = 'sequence-text-style typewrite'; 
            sequenceText.classList.add('text-fade-in');     
            
            const linesToType = [
                "Ladies and Gentlemenâ€¦\nGather around, because today weâ€™re not just celebrating a birthday â€”\nweâ€™re celebrating a phenomenon!",
                "Sheâ€™s the girl whoâ€™s done it all â€”\nAchieved with grace, dreamed with passion,\nAnd inspired everyone around her with her kindness and power.",
                "Sheâ€™s not just strong â€” sheâ€™s unstoppable.", 
                "Sheâ€™s not just special â€” sheâ€™s spectacular.", 
                "She doesnâ€™t follow trends â€” she creates them.", 
                "She doesnâ€™t wait for opportunities â€” she builds them.", 
                "Her smile? It could outshine the stars.", 
                "Her presence? It turns ordinary moments into magic.", 
                "Her heart? Pure gold wrapped in kindness and grace.", 
                "Presenting to you, not the most beautiful girl from Kolkata,", 
                "Nor West Bengal,",
                "Nor India,",
                "Nor even Asiaâ€¦",
                "But from the entire Universe ðŸŒŒ",
                "ðŸ’«âœ¨ The one and onlyâ€¦ Missssss Jess! âœ¨ðŸ’«",
                "And now, ladies and gentlemen â€”\nPlease make a BIG round of applause ðŸ‘ðŸ‘ðŸ‘",
                "for the birthday girl who defines beauty, brilliance, and beyond â€”\nMiss Jess! ðŸŽ‚ðŸ’–"
            ];
            
            var typewriter = new TxtType(sequenceText, linesToType, 2000);
            
            typewriter.onComplete = async () => {
                console.log('Typewriter sequence finished.');
                sequenceText.classList.remove('text-fade-in');
                sequenceText.classList.add('text-fade-out');
                await sleep(800);
                
                if (textSequenceContainer) textSequenceContainer.style.opacity = '0'; 
                if (lampCord) lampCord.style.opacity = '1';
                if (lampShade) lampShade.style.opacity = '1';
                await sleep(500); 

                startLightShowFinale();
            };
        }

        function startLightShowFinale() {
            const targetCenter = '50% 30%';

            const p_tl = '0% 0%';
            const p_tm = '50% 0%';
            const p_tr = '100% 0%';
            const p_rm = '100% 50%';
            const p_br = '100% 100%';
            const p_bm = '50% 100%';
            const p_bl = '0% 100%';
            const p_lm = '0% 50%';

            if (lampGlow) {
                lampGlow.style.boxShadow = '0 0 40px 20px #fcf4f9';
                lampGlow.style.opacity = '1';
            }
            
            if(spotlightRed) spotlightRed.style.clipPath = `polygon(${targetCenter}, ${p_rm}, ${p_br})`;
            if(spotlightOrange) spotlightOrange.style.clipPath = `polygon(${targetCenter}, ${p_bl}, ${p_lm})`;
            if(spotlightYellow) spotlightYellow.style.clipPath = `polygon(${targetCenter}, ${p_tr}, ${p_rm})`;
            if(spotlightGreen) spotlightGreen.style.clipPath = `polygon(${targetCenter}, ${p_tl}, ${p_tm})`;
            if(spotlightBlue) spotlightBlue.style.clipPath = `polygon(${targetCenter}, ${p_br}, ${p_bm})`;
            if(spotlightIndigo) spotlightIndigo.style.clipPath = `polygon(${targetCenter}, ${p_bm}, ${p_bl})`;
            if(spotlightViolet) spotlightViolet.style.clipPath = `polygon(${targetCenter}, ${p_tm}, ${p_tr})`;
            if(spotlightMagenta) spotlightMagenta.style.clipPath = `polygon(${targetCenter}, ${p_lm}, ${p_tl}, ${p_tm})`; // Corrected magenta path

            if (finalPhotoContainer) {
                finalPhotoContainer.style.opacity = '1';
                finalPhotoContainer.style.transform = 'translate(-50%, -50%) scale(1)';
            }
            
            startSprinkles(sprinkleContainerFinal);

            if (topNav && bottomNav && leftNav && rightNav) {
                topNav.classList.remove('-translate-y-full');
                bottomNav.classList.remove('translate-y-full');
                leftNav.classList.remove('-translate-x-full');
                rightNav.classList.remove('translate-x-full');
                
                closeAllNavs(); 
            }

            console.log('GRAND FINALE!');

        }

    </script>
</body>
</html>
