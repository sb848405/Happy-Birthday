<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Spotlight Stage</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#0b0b0d" />
  <meta name="description" content="A minimal, cinematic birthday stage." />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Gochi+Hand&family=Inter:wght@300;400;600;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #0b0b0d;
      --ink: #e6e6ea;
      --ink-dim: #b7b7bf;
      --ink-shadow: rgba(230, 230, 234, 0.2);
      
      --accent: #8e8ef7; 
      --accent-glow: rgba(142, 142, 247, 0.5);
      
      --maxw: 820px;
      --fade: 700ms;
      --ease: cubic-bezier(.25,.1,.25,1);
      
      --spot1-x: 50%; --spot1-y: 40%; --spot1-r: 35vmax;
      --spot2-x: 22%; --spot2-y: 55%; --spot2-r: 22vmax;
      --spot3-x: 78%; --spot3-y: 52%; --spot3-r: 22vmax;

      --sidebar-width: 300px;
    }

    @media (min-width: 1024px) {
        :root {
            --bg: #120516; 
            --accent: #ffd700; 
            --accent-glow: rgba(255, 215, 0, 0.6);
            --sidebar-width: 460px; /* Wider for 2 columns */
        }
    }

    @media (prefers-reduced-motion: reduce) {
      :root{ --fade: 0ms; }
      * { animation: none !important; transition: none !important; }
    }

    html,body{
      height:100%;
      background: var(--bg);
      color: var(--ink);
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      line-height:1.45;
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
      cursor: default;
      overflow: hidden; 
    }

    .lamp{
      position:fixed;
      top: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 50px;
      background: #28282c;
      border-radius: 0 0 15px 15px;
      border: 1px solid #444;
      z-index: 10;
      opacity: 0;
      transition: opacity var(--fade) var(--ease), top var(--fade) var(--ease), left 100ms linear;
      pointer-events: none;
    }
    .lamp.on { opacity: 0.9; top: 0; }
    .lamp::after {
      content: '';
      position: absolute;
      bottom: 6px;
      left: 50%;
      transform: translateX(-50%);
      width: 35px;
      height: 12px;
      background: var(--accent);
      border-radius: 50%;
      box-shadow: 0 0 25px var(--accent);
    }

    .stage{
      position:relative;
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      isolation:isolate;
      padding:16px;
      z-index: 1;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .floor {
        position: absolute;
        bottom: -20vh;
        left: -50%;
        width: 200%;
        height: 80vh;
        background: 
            radial-gradient(ellipse 600px 400px at var(--spot1-x) 40%, rgba(142, 142, 247, 0.08), transparent 60%),
            linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
        background-size: 100% 100%, 100px 100px, 100px 100px;
        background-position: center bottom;
        transform: perspective(100vh) rotateX(75deg);
        z-index: 0;
        pointer-events: none;
        mask-image: linear-gradient(to top, black 20%, transparent 90%);
        opacity: 0; 
        transition: opacity 1s ease;
    }

    .dust {
        position: absolute;
        inset: 0;
        pointer-events: none;
        z-index: 1;
        opacity: 0;
        transition: opacity 1.5s ease;
        background-image: 
            radial-gradient(rgba(255,255,255,0.3) 1px, transparent 1px),
            radial-gradient(rgba(255,255,255,0.2) 1px, transparent 1px);
        background-size: 150px 150px, 300px 300px;
        background-position: 0 0, 40px 60px;
        animation: floatingDust 60s linear infinite;
    }

    @keyframes floatingDust {
        0% { background-position: 0 0, 40px 60px; }
        100% { background-position: 150px 300px, 340px 360px; }
    }

    .curtain {
      position: absolute;
      top: 0; bottom: 0;
      width: 15vw;
      z-index: 50; 
      background: repeating-linear-gradient(90deg, #0a0a0c 0%, #1a1a20 15%, #0a0a0c 30%);
      box-shadow: inset 0 0 50px rgba(0,0,0,0.8);
      opacity: 0;
      pointer-events: none;
      transition: width 1s ease, transform 3s cubic-bezier(0.25, 1, 0.5, 1), background 1s ease;
    }
    
    .curtain.left { left: 0; transform-origin: left; transform: skewX(2deg); }
    .curtain.right { right: 0; transform-origin: right; transform: skewX(-2deg); }

    .truss {
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 60px;
      background: 
        repeating-linear-gradient(45deg, transparent, transparent 10px, #222 10px, #222 12px),
        repeating-linear-gradient(-45deg, transparent, transparent 10px, #222 10px, #222 12px);
      background-color: #111;
      border-bottom: 2px solid #333;
      z-index: 45;
      opacity: 0;
      pointer-events: none;
    }
    
    .click-prompt {
        position: fixed;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        z-index: 60;
        color: var(--ink-dim);
        font-family: 'Gochi Hand', cursive;
        font-size: 2rem;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.5s ease;
        text-shadow: 0 2px 10px rgba(0,0,0,0.8);
    }
    
    body:not(.started) .click-prompt { opacity: 1; animation: pulsePrompt 2s infinite ease-in-out; }
    
    @keyframes pulsePrompt {
        0%, 100% { opacity: 0.6; transform: translate(-50%, -50%) scale(0.95); }
        50% { opacity: 1; transform: translate(-50%, -50%) scale(1.05); }
    }

    .platform { display: none; }
    .chair { display: none; }

    @media (min-width: 1024px) {
        /* Custom Microphone Cursor for Big Screens - Moved here for specificity */
        html, body {
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="%23ffd700" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg>') 16 16, auto;
        }

        .floor {
            opacity: 1;
            transform: none !important; 
            top: 0; bottom: 0; height: 100%;
            background-color: #151018;
            background-image: 
                linear-gradient(335deg, rgba(0,0,0,0.5) 23px, transparent 23px),
                linear-gradient(155deg, rgba(0,0,0,0.5) 23px, transparent 23px),
                linear-gradient(335deg, rgba(0,0,0,0.5) 23px, transparent 23px),
                linear-gradient(155deg, rgba(0,0,0,0.5) 23px, transparent 23px);
            background-size: 58px 58px;
            background-position: 0px 2px, 4px 35px, 29px 31px, 34px 6px;
            mask-image: radial-gradient(circle at center, black 40%, rgba(0,0,0,0.2) 100%);
        }

        .dust { 
            opacity: 0.8; 
            background-image: 
                radial-gradient(rgba(255, 215, 0, 0.4) 1px, transparent 1px),
                radial-gradient(rgba(255, 100, 100, 0.3) 1px, transparent 1px),
                radial-gradient(rgba(100, 200, 255, 0.3) 1px, transparent 1px);
            background-size: 150px 150px, 200px 200px, 300px 300px;
            background-position: 0 0, 40px 60px, 80px 120px;
        }

        .truss { opacity: 1; }
        
        .platform {
            display: block;
            position: absolute;
            bottom: -5vh; 
            left: -10%;
            width: 120%;
            height: 30vh;
            background-color: #5c4033;
            background-image: 
                repeating-linear-gradient(90deg, 
                    rgba(255,255,255,0.05) 0px, 
                    rgba(255,255,255,0.05) 1px, 
                    transparent 1px, 
                    transparent 80px
                ),
                linear-gradient(to bottom, #2e1a12 0%, transparent 60%, rgba(0,0,0,0.4) 100%);
            
            transform: perspective(800px) rotateX(25deg);
            z-index: 10;
            box-shadow: 0 -10px 50px rgba(0,0,0,0.9);
            border-top: 2px solid #8b5a2b;
        }

        .chair {
            display: block;
            position: absolute;
            bottom: 16vh;
            left: 65%;
            transform: translateX(-50%);
            width: 120px;
            height: 180px;
            z-index: 15; 
            opacity: 0.9;
            pointer-events: none;
            filter: drop-shadow(0 15px 10px rgba(0,0,0,0.6));
        }

        .curtain { 
            opacity: 1; 
            width: 51vw; 
            pointer-events: auto; 
            background: repeating-linear-gradient(90deg, #4a0000 0%, #750000 10%, #900000 20%, #600000 35%, #300000 50%);
            box-shadow: 10px 0 30px rgba(0,0,0,0.8);
            border-bottom-right-radius: 40% 10%;
            border-bottom-left-radius: 40% 10%;
        }
        
        .curtain.left { 
            transform: skewX(0); 
            border-right: 4px solid #ffd700;
        }
        .curtain.right { 
            transform: skewX(0); 
            border-left: 4px solid #ffd700;
        }
        
        body.curtains-open .curtain.left { transform: translateX(-70%) scaleY(1.05); }
        body.curtains-open .curtain.right { transform: translateX(70%) scaleY(1.05); }
        body.curtains-open .click-prompt { opacity: 0 !important; }

        .controls, .hint, details.bts { display: none !important; }

        #nav-container {
            position: fixed;
            left: 24px; top: 24px; bottom: 24px;
            width: var(--sidebar-width);
            background: rgba(18, 18, 24, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 24px;
            transform: translateX(calc(-100% - 48px));
            transition: transform 0.5s cubic-bezier(0.19, 1, 0.22, 1);
            z-index: 100;
            
            /* 2-Column Grid Layout */
            display: grid; 
            grid-template-columns: 1fr 1fr;
            gap: 2px 20px;
            align-content: start;
            
            overflow-y: auto;
            padding: 80px 24px 40px; 
            box-shadow: 0 20px 50px rgba(0,0,0,0.4), inset 0 0 0 1px rgba(255,255,255,0.05);
            /* Reset counter for serial numbers */
            counter-reset: link-counter;
        }

        body.nav-open #nav-container { transform: translateX(0); }
        body.nav-open .stage {
            margin-left: calc(var(--sidebar-width) + 40px);
            width: calc(100% - (var(--sidebar-width) + 40px));
            transform: perspective(2000px) rotateY(-2deg) scale(0.95);
            border-radius: 20px;
            box-shadow: -30px 20px 60px rgba(0,0,0,0.6);
        }

        .nav-panel {
            /* Make panel invisible wrapper to let links flow into grid */
            display: contents !important;
            
            /* Reset others just in case */
            position: static !important; transform: none !important; width: 100% !important; height: auto !important;
            background: transparent !important; border: none !important; box-shadow: none !important;
            padding: 0 !important; margin-bottom: 0 !important;
        }

        /* Hide the text headers on desktop to make it a serial list */
        #topNav::before, #bottomNav::before, #leftNav::before, #rightNav::before { content: none !important; }
        
        .nav-panel .nav-link {
            width: 100%; text-align: left; padding: 12px 12px; margin: 2px 0; border-radius: 8px;
            font-family: 'Inter', sans-serif; font-size: 13px; font-weight: 500; color: #aaa;
            background: transparent; border: 1px solid transparent; transition: all 0.2s;
            display: flex; align-items: center;
        }
        
        /* Add Serial Numbers */
        .nav-panel .nav-link::before {
            counter-increment: link-counter;
            content: counter(link-counter, decimal-leading-zero) ". ";
            font-family: 'Gochi Hand', cursive;
            color: var(--accent);
            margin-right: 8px;
            font-size: 14px;
            opacity: 0.8;
        }
        
        .nav-panel .nav-link:hover {
            background: rgba(255, 255, 255, 0.08); color: white; border-color: rgba(255,255,255,0.1);
            transform: translateX(2px); box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        /* Spotlight Link Glow - Big Screen Only */
        .nav-panel .nav-link[href="Spotlight.html"] {
            color: var(--accent);
            text-shadow: 0 0 10px var(--accent-glow), 0 0 20px var(--accent-glow);
            background: rgba(255, 215, 0, 0.1);
            border-color: rgba(255, 215, 0, 0.3);
            font-weight: 600;
        }

        #nav-container::-webkit-scrollbar { width: 0; }
    }

    .veil{
      position:absolute;
      inset:0;
      pointer-events:none;
      background:
        radial-gradient( circle var(--spot1-r) at var(--spot1-x) var(--spot1-y), rgba(255,255,255,.15), rgba(255,255,255,0) 60% ),
        radial-gradient( circle var(--spot2-r) at var(--spot2-x) var(--spot2-y), rgba(255,255,255,.1), rgba(255,255,255,0) 60% ),
        radial-gradient( circle var(--spot3-r) at var(--spot3-x) var(--spot3-y), rgba(255,255,255,.1), rgba(255,255,255,0) 60% );
      mix-blend-mode: screen;
      opacity:.0;
      transition: opacity var(--fade) var(--ease), background 100ms linear;
    }
    .veil.on{ opacity:1; }

    .beams{
      position:absolute;
      inset:0;
      pointer-events:none;
      background:
        linear-gradient( to bottom, rgba(255,255,255,.1), transparent 45%),
        radial-gradient( 120vmax 40vmax at 50% -10%, rgba(255,255,255,.2), transparent 60% );
      opacity:0;
      transition: opacity var(--fade) var(--ease);
    }
    .beams.on{ opacity:.95; }

    .frame{
      position:relative;
      z-index: 20;
      width:100%;
      max-width:var(--maxw);
      display:flex;
      flex-direction:column;
      gap:24px;
      text-align:center;
    }

    .line{
      font-size: clamp(20px, 4.8vw, 42px);
      font-family: 'Inter', sans-serif;
      font-weight: 600;
      letter-spacing: .2px;
      opacity:0;
      transform: translateY(8px);
      transition: opacity var(--fade) var(--ease), transform var(--fade) var(--ease);
      text-shadow: 0 0 6px var(--ink-shadow);
      min-height: 1.2em;
    }
    
    @media (min-width: 1024px) {
        .line { font-family: 'Playfair Display', serif; font-weight: 700; text-shadow: 0 0 10px rgba(0,0,0,0.8); }
    }
    
    .line.subtle{
      font-weight: 500;
      color: var(--ink-dim);
      font-size: clamp(16px, 3.8vw, 24px);
    }
    .line.show{ opacity:1; transform: translateY(0); }
    
    .line.accent {
      color: var(--accent);
      font-weight: 700;
      text-shadow: 0 0 12px var(--accent-glow), 0 0 24px var(--accent-glow);
    }
    .line.accent.show { animation: pulse 2.5s infinite ease-in-out; }
    
    @keyframes pulse {
      0%, 100% { opacity: 0.9; text-shadow: 0 0 12px var(--accent-glow), 0 0 24px var(--accent-glow); }
      50% { opacity: 1; text-shadow: 0 0 25px var(--accent-glow), 0 0 40px var(--accent-glow); }
    }
    
    .line.typing::after {
      content: '▋';
      opacity: 1;
      animation: blink 1s step-end infinite;
      color: var(--accent);
      margin-left: 2px;
      display: inline-block;
      width: 0;
    }
    @keyframes blink { 50% { opacity: 0; } }

    .controls{
      position:fixed;
      bottom:10px;
      left:0; right:0;
      display:flex;
      justify-content:center;
      gap:8px;
      z-index:90; 
      padding:8px 12px;
      pointer-events: none; 
    }
    .controls .btn {
      pointer-events: auto; 
    }

    .btn{
      -webkit-tap-highlight-color: transparent;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.12);
      color: var(--ink);
      padding: 10px 14px;
      border-radius: 12px;
      font-size: 14px;
      letter-spacing:.2px;
      backdrop-filter: blur(6px);
      cursor: pointer;
      user-select:none;
      transition: background .2s var(--ease), border-color .2s var(--ease);
    }
    .btn:hover{ background: rgba(255,255,255,.10); border-color: rgba(255,255,255,.2); }
    .btn:active{ transform: translateY(1px); }

    details.bts{
      position:fixed;
      right:10px;
      top:10px;
      z-index:90;
      max-width:min(92vw, 420px);
    }
    details.bts summary{
      list-style:none;
      cursor:pointer;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.12);
      color: var(--ink);
      padding:8px 12px;
      border-radius:12px;
      font-size:12px;
      user-select:none;
      transition: background .2s var(--ease), border-color .2s var(--ease), color .2s var(--ease);
    }
    details.bts summary:hover { color: var(--accent); }
    details.bts[open] .card{ opacity:1; transform: translateY(0); }
    .card{
      margin-top:8px;
      background: rgba(20,20,24,.9);
      border:1px solid rgba(255,255,255,.1);
      padding:12px 14px;
      border-radius:12px;
      font-size:13px;
      color:var(--ink-dim);
      box-shadow: 0 10px 30px rgba(0,0,0,.45);
      opacity:0; transform: translateY(4px);
      transition: opacity var(--fade) var(--ease), transform var(--fade) var(--ease);
    }

    .hint{
      position:fixed;
      inset:auto 0 90px 0;
      text-align:center;
      color:var(--ink-dim);
      font-size:13px;
      opacity:.0;
      transition: opacity .6s var(--ease);
      z-index:2;
      pointer-events:none;
    }
    .hint.show{ opacity:.8; }

    @supports(padding: max(0px)) {
      .controls{ padding-bottom: max(8px, env(safe-area-inset-bottom)); }
      details.bts{ top: max(10px, env(safe-area-inset-top)); right: max(10px, env(safe-area-inset-right)); }
    }

    .noscript{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      background:#111216;
      color:#d6d6de;
      padding:24px;
      text-align:center;
    }

    .nav-panel, #navToggleIcon, #navToggleX {
        transition: all 0.3s ease-in-out;
    }
    .nav-panel {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
    .nav-panel::-webkit-scrollbar {
        display: none;
    }
    .festive-text {
        font-family: 'Gochi Hand', cursive;
        font-size: 1.1rem;
        color: var(--ink);
        white-space: nowrap;
    }

    #navToggle {
        background-color: var(--accent);
        color: #000;
    }
    #navToggle:hover {
        filter: brightness(1.2);
    }

    #topNav, #bottomNav {
        background-color: #1a1a1f;
        color: var(--ink);
        border-bottom: 1px solid var(--ink-shadow);
        border-top: 1px solid var(--ink-shadow);
    }

    #leftNav, #rightNav {
        background-color: #1a1a1f;
        color: var(--ink);
        border-right: 1px solid var(--ink-shadow);
        border-left: 1px solid var(--ink-shadow);
    }

    .nav-panel .nav-link:hover {
        background-color: var(--accent);
        color: #000;
    }

  </style>
</head>
<body>
  
  <button id="navToggle" class="fixed top-6 left-6 z-[110] p-2 rounded-full shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-300" style="--tw-ring-color: var(--accent);">
      <svg id="navToggleIcon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-8 6h8"></path></svg>
      <svg id="navToggleX" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
  </button>

  <div id="nav-container">
    
    
    <nav id="leftNav" class="nav-panel fixed left-0 top-0 bottom-0 z-[60] w-25 bg-purple-800 text-yellow-100 shadow-md flex flex-col items-center space-y-4 -translate-x-full overflow-y-auto py-20">
      <a href="index.html" class="nav-link festive-text">Home</a>
      <a href="Cake.html" class="nav-link festive-text">Cake</a>
      <a href="21_Wish.html" class="nav-link festive-text">21_Door</a>
      <a href="chat.html" class="nav-link festive-text">Heaven</a>
      <a href="Diary.html" class="nav-link festive-text">Diary</a>
      <a href="anatomy.html" class="nav-link festive-text">Anatomy</a>
      <a href="Box.html" class="nav-link festive-text">Box</a>
      <a href="Special.html" class="nav-link festive-text">Special</a>
      <a href="color.html" class="nav-link festive-text">Color</a>
      <a href="you.html" class="nav-link festive-text">You</a>
      <a href="Teacher.html" class="nav-link festive-text">Teacher</a>
      <a href="Universe.html" class="nav-link festive-text">Universe</a>
      <a href="The_River.html" class="nav-link festive-text">River</a>
      <a href="Mountain.html" class="nav-link festive-text">Mountain</a>
      </nav>
      
      <nav id="bottomNav" class="nav-panel fixed bottom-0 left-0 right-0 z-[60] h-16 bg-purple-600 text-yellow-100 shadow-md flex items-center justify-center space-x-2 translate-y-full">
        <a href="Skill.html" class="nav-link festive-text">Skill</a>
        <a href="Paper_Star.html" class="nav-link festive-text">Paper Star</a>
        <a href="Carttoon.html" class="nav-link festive-text">Cartoon</a>
      </nav>
      
      <nav id="rightNav" class="nav-panel fixed right-0 top-0 bottom-0 z-[60] w-24 bg-purple-800 text-yellow-100 shadow-md flex flex-col items-center space-y-4 translate-x-full overflow-y-auto py-20">
        <a href="Periodik_table.html" class="nav-link festive-text">Periodik_table</a>
        <a href="Concept.html" class="nav-link festive-text">Concept</a>
        <a href="Calender.html" class="nav-link festive-text">Calender</a>
        <a href="Perspective.html" class="nav-link festive-text">Perspective</a>
        <a href="Santa.html" class="nav-link festive-text">Santa</a>
        <a href="Presence.html" class="nav-link festive-text">Presence</a>
        <a href="Cloud.html" class="nav-link festive-text">Cloud</a>
        <a href="Ink.html" class="nav-link festive-text">Paint</a>
        <a href="Butterfly.html" class="nav-link festive-text">Butterfly</a>
        <a href="Weather.html" class="nav-link festive-text">Weather</a>
        <a href="Spotlight.html" class="nav-link festive-text">Spotlight</a>
        <a href="Room.html" class="nav-link festive-text">Room</a>
        <a href="Radio.html" class="nav-link festive-text">Radio</a>
        <a href="Food.html" class="nav-link festive-text">Food</a>
    </nav>
    
    <nav id="topNav" class="nav-panel fixed top-0 left-0 right-0 z-[60] h-16 bg-purple-600 text-yellow-100 shadow-md flex items-center justify-center space-x-2 -translate-y-full">
      <a href="Msg.html" class="nav-link festive-text">Massege</a>
      <a href="letter.html" class="nav-link festive-text">Letter</a>
      <a href="Music.html" class="nav-link festive-text">Music</a>
    </nav>
  
  </div>


  <div class="lamp" id="lamp" aria-hidden="true"></div>
  <div class="click-prompt" aria-hidden="true">Click to Open the Stage</div>

  <noscript>
    <div class="noscript">
      <div>
        <h1 style="margin:0 0 8px">Spotlight’s yours, today.</h1>
        <p style="margin:0;color:#b9bac3">Enable JavaScript for the full stage experience.</p>
      </div>
    </div>
  </noscript>

  <div class="stage" id="stage" role="main" aria-live="polite">
    <div class="truss" aria-hidden="true"></div>
    <div class="curtain left" aria-hidden="true"></div>
    <div class="curtain right" aria-hidden="true"></div>
    
    <div class="floor" aria-hidden="true"></div>
    <div class="dust" aria-hidden="true"></div>

    <div class="platform" aria-hidden="true"></div>

    <div class="chair" aria-hidden="true">
        <svg viewBox="0 0 100 200" width="100%" height="100%">
            <path d="M25,180 L35,80" stroke="#3e2b22" stroke-width="8" stroke-linecap="round" />
            <path d="M75,180 L65,80" stroke="#3e2b22" stroke-width="8" stroke-linecap="round" />
            
            <path d="M30,130 L70,130" stroke="#3e2b22" stroke-width="5" />
            
            <path d="M15,190 L25,80" stroke="#5c4033" stroke-width="8" stroke-linecap="round" />
            <path d="M85,190 L75,80" stroke="#5c4033" stroke-width="8" stroke-linecap="round" />
            
            <path d="M20,140 L80,140" stroke="#5c4033" stroke-width="5" />
            
            <ellipse cx="50" cy="80" rx="35" ry="10" fill="#8b5a2b" />
        </svg>
    </div>

    <div class="veil" aria-hidden="true"></div>
    <div class="beams" aria-hidden="true"></div>

    <div class="frame" id="frame" tabindex="0">
    </div>
  </div>

  <div class="hint" id="hint">Tap anywhere (or press any key) to continue</div>

  <script>
    const YOUR_NAME = "Juhi";

const SCENES = [
  { text: "Lights on.", subtle: true },
  { text: "The stage is set." },
  { text: "You are in the front line" },
  { text: "Audience are watching there idol" },
  { text: "Just a quiet focus." },
  { text: "Even with every eye on the stage, the light follows your lead." },
  { text: "You are the main heroine of your story." },
  { text: "Some days you slow down, but you never stop." },
  { text: "Life hands you challenges, and you answer them with grace sometimes even with a smile." },
  { text: "You walk forward, and even when the future refuses to shift, you don’t break. "  },
  { text: "You take a single 1% chance and shape it into 5%, then 10%, then 30%, 50%, 80%… until you turn it into your own 100%. & thats your Strength"  },
  { text: "Every year, your character grows sharper, braver, more certain." },
  { text: "The scene shifts the moment you arrive that's your power." },
  { text: "The scene quiets… as if saving its softest moment for one person." },
  { text: `For you, ${YOUR_NAME}.` },
  { text: "A wish shaped without noise, without rush.", subtle: true },
  { text: "May the coming year open gently for you, with new doors and quiet victories." },
  { text: `Happy Birthday, ${YOUR_NAME}.`, accent: true },
  { text: "Tonight, the spotlight doesn’t just shine,  it stays with  forever.", subtle: true }
];

    const AUTO_ADVANCE = 2400;
    const INTRO_DELAY = 500;
    const TAP_HINT_DELAY = 1400;
    
    const TYPE_SPEED = 80;
    const DELETE_SPEED = 50;
    const FLASH_DELAY = 800;

    const frame = document.getElementById('frame');
    const veil  = document.querySelector('.veil');
    const beams = document.querySelector('.beams');
    const hint  = document.getElementById('hint');
    const lamp = document.getElementById('lamp');

    let index = 0;
    let timer = null;
    let started = false;
    let finished = false;
    
    let currentLineElement = null;

    let mouse = {
      targetX: window.innerWidth / 2,
      targetY: window.innerHeight / 2,
      currentX: window.innerWidth / 2,
      currentY: window.innerHeight / 2,
      lerpAmount: 0.05
    };

    function lerp(start, end, amt) {
      return (1 - amt) * start + amt * end;
    }

    function smoothFollow() {
      if (started) {
        mouse.currentX = lerp(mouse.currentX, mouse.targetX, mouse.lerpAmount);
        mouse.currentY = lerp(mouse.currentY, mouse.targetY, mouse.lerpAmount);

        let percentX, percentY;

        if (window.innerWidth >= 1024) {
             lamp.style.left = '50%';
             percentX = 0.5;
             percentY = 0.4;
        } else {
             lamp.style.left = `${mouse.currentX}px`;
             const { innerWidth: w, innerHeight: h } = window;
             percentX = mouse.currentX / w;
             percentY = mouse.currentY / h;
        }

        const spot1X = percentX * 100;
        const spot1Y = percentY * 100;

        const spot2X = (1 - percentX) * 100;
        const spot2Y = (1 - percentY) * 100;
        
        const spot3X = (percentX) * 50 + 25;
        const spot3Y = (1- percentY) * 50 + 25;

        const root = document.documentElement.style;
        root.setProperty('--spot1-x', `${spot1X}%`);
        root.setProperty('--spot1-y', `${spot1Y}%`);
        root.setProperty('--spot2-x', `${spot2X}%`);
        root.setProperty('--spot2-y', `${spot2Y}%`);
        root.setProperty('--spot3-x', `${spot3X}%`);
        root.setProperty('--spot3-y', `${spot3Y}%`);
      }
      
      requestAnimationFrame(smoothFollow);
    }


    function el(tag, cls, text){
      const e = document.createElement(tag);
      if(cls) e.className = cls;
      if(text) e.textContent = text;
      return e;
    }

    function clearTimers(){ if(timer){ clearTimeout(timer); timer = null; } }

    function revealStage(){
      veil.classList.add('on');
      beams.classList.add('on');
      lamp.classList.add('on');
    }

    function addLine(scene) {
      const lineClasses = 'line' + (scene.subtle ? ' subtle' : '') + (scene.accent ? ' accent' : '');
      const line = el('div', lineClasses, '');
      frame.appendChild(line);
      requestAnimationFrame(()=> line.classList.add('show')); 
      return line;
    }
    
    function deleteText(element, text, onComplete) {
      element.classList.add('typing');
      let currentText = text;
      function deleteStep() {
        if (currentText.length > 0) {
          currentText = currentText.substring(0, currentText.length - 1);
          element.textContent = currentText;
          timer = setTimeout(deleteStep, DELETE_SPEED);
        } else {
          onComplete();
        }
      }
      deleteStep();
    }
    
    function typeText(element, scene, onComplete) {
      element.className = 'line show typing' + (scene.subtle ? ' subtle' : '') + (scene.accent ? ' accent' : '');
      
      let i = 0;
      function typeStep() {
        if (i < scene.text.length) {
          element.textContent += scene.text.charAt(i);
          i++;
          timer = setTimeout(typeStep, TYPE_SPEED);
        } else {
          element.classList.remove('typing');
          onComplete();
        }
      }
      typeStep();
    }
    
    function runTypewriter(element, oldScene, newScene, onComplete) {
      deleteText(element, oldScene.text, () => {
        typeText(element, newScene, onComplete);
      });
    }

    function flashLights(onComplete) {
      const originalBackground = veil.style.background;
      const originalOpacity = veil.style.opacity;
      const originalTransition = veil.style.transition;
      
      veil.style.transition = 'all 300ms ease-in-out';
      veil.style.background = `
        radial-gradient( circle 100vmax at 50% 50%, rgba(142,142,247,.65), rgba(142,142,247,0) 60% ),
        ${originalBackground}
      `;
      veil.style.opacity = '1';

      setTimeout(() => {
        veil.style.background = originalBackground;
        veil.style.opacity = originalOpacity;
      }, 300);

      setTimeout(() => {
        veil.style.transition = originalTransition;
        if(onComplete) onComplete();
      }, 600);
    }

    function next(){
      if(finished) return;
      clearTimers();

      if(!started){
        
        if (window.innerWidth >= 1024) {
            if (!document.body.classList.contains('curtains-open')) {
                document.body.classList.add('curtains-open');
                document.body.classList.add('started');
                
                setTimeout(() => {
                    started = true;
                    revealStage();
                    setTimeout(() => {
                       startTextSequence();
                    }, INTRO_DELAY);
                }, 2800);
                return; 
            }
        } 
        
        started = true;
        document.body.classList.add('started');
        revealStage();
        hint.classList.add('show');
        setTimeout(() => {
            startTextSequence();
        }, INTRO_DELAY);
        
        return;
      }

      if(index < SCENES.length){
        const oldScene = SCENES[index - 1];
        const newScene = SCENES[index];
        runTypewriter(currentLineElement, oldScene, newScene, () => {
          index++;
          if (index < SCENES.length) {
            schedule();
          } else {
            end();
          }
        });
      } else {
        end();
      }
    }
    
    function startTextSequence() {
        currentLineElement = addLine(SCENES[index]);
          runTypewriter(currentLineElement, {text: ""}, SCENES[index], () => {
            index++;
            flashLights(() => {
              schedule(); 
            });
          });
    }

    function schedule(){
      clearTimers();
      timer = setTimeout(next, AUTO_ADVANCE);
    }

    function end(){
      finished = true;
      clearTimers();
      setTimeout(()=> hint.classList.remove('show'), 600);
      beams.style.opacity = .35;
    }

    function skipToEnd(){
      clearTimers();
      if(!started){
        document.body.classList.add('curtains-open');
        revealStage();
        started = true;
      }
      frame.innerHTML = '';
      const finalScene = SCENES[SCENES.length - 1];
      const finalLine = addLine(finalScene);
      finalLine.textContent = finalScene.text;
      finalLine.classList.remove('typing');
      
      index = SCENES.length;
      end();
    }

    function restart(){
      clearTimers();
      index = 0; started = false; finished = false;
      frame.innerHTML = '';
      currentLineElement = null;
      veil.style.background = '';
      veil.style.opacity = '';
      veil.style.transition = '';
      beams.style.opacity = '';
      lamp.classList.remove('on');
      lamp.style.left = '';
      
      document.body.classList.remove('curtains-open');
      document.body.classList.remove('started');
      
      if (window.innerWidth < 1024) {
          next();
      }
    }

    const advance = (e) => {
      const tag = (e.target.tagName || '').toLowerCase();
      if(tag === 'button' || tag === 'summary' || tag === 'a') return;
      
      if (e.clientX && e.clientY) {
        mouse.targetX = e.clientX;
        mouse.targetY = e.clientY;
      }
      
      next();
    };

    document.addEventListener('click', advance, { passive:true });
    document.addEventListener('keydown', (e)=> {
      if(e.key === 'Enter' || e.key === ' ' || e.key.length === 1){ next(); }
      if(e.key.toLowerCase() === 'r'){ restart(); }
      if(e.key.toLowerCase() === 's'){ skipToEnd(); }
    }, { passive:true });
    
    document.addEventListener('mousemove', (e) => {
      mouse.targetX = e.clientX;
      mouse.targetY = e.clientY;
    }, { passive: true });
    
    document.addEventListener('touchmove', (e) => {
      if (e.touches[0]) {
        mouse.targetX = e.touches[0].clientX;
        mouse.targetY = e.touches[0].clientY;
      }
    }, { passive: true });
    document.addEventListener('touchstart', (e) => {
      if (e.touches[0]) {
        mouse.targetX = e.touches[0].clientX;
        mouse.targetY = e.touches[0].clientY;
      }
    }, { passive: true });


    window.addEventListener('load', () => {
      if (window.innerWidth < 1024) {
          setTimeout(()=> next(), 60);
          setTimeout(()=> hint.classList.add('show'), TAP_HINT_DELAY);
      }
      requestAnimationFrame(smoothFollow);
    });

    if(window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches){
      window.addEventListener('load', ()=> clearTimers());
      mouse.lerpAmount = 1;
    }

    frame.addEventListener('DOMNodeInserted', () => {
      frame.setAttribute('aria-busy', 'true');
      setTimeout(()=> frame.setAttribute('aria-busy', 'false'), 50);
    });
  </script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
        
        const navLinks = document.querySelectorAll('.nav-panel .nav-link');
        const mainContent = document.getElementById('stage');
        const topNav = document.getElementById('topNav');
        const bottomNav = document.getElementById('bottomNav');
        const leftNav = document.getElementById('leftNav');
        const rightNav = document.getElementById('rightNav');
        const navToggle = document.getElementById('navToggle');
        const navToggleIcon = document.getElementById('navToggleIcon');
        const navToggleX = document.getElementById('navToggleX');
  
        let areNavsOpen = false;
  
        function openAllNavs() {
            if (window.innerWidth >= 1024) {
              document.body.classList.add('nav-open');
            } 
            else {
              topNav.classList.remove('-translate-y-full');
              bottomNav.classList.remove('translate-y-full');
              leftNav.classList.remove('-translate-x-full');
              rightNav.classList.remove('translate-x-full');
            }
            
            navToggleIcon.classList.add('hidden');
            navToggleX.classList.remove('hidden');
            areNavsOpen = true;
        }
  
        function closeAllNavs() {
            document.body.classList.remove('nav-open');

            topNav.classList.add('-translate-y-full');
            bottomNav.classList.add('translate-y-full');
            leftNav.classList.add('-translate-x-full');
            rightNav.classList.add('translate-x-full');
            
            navToggleIcon.classList.remove('hidden');
            navToggleX.classList.add('hidden');
            areNavsOpen = false;
        }
  
        function toggleAllNavs() {
            if (areNavsOpen) {
                closeAllNavs();
            } else {
                openAllNavs();
            }
        }
  
        navToggle.addEventListener('click', (e) => {
            e.stopPropagation(); 
            toggleAllNavs();
        });
        
        mainContent.addEventListener('click', () => {
            if (areNavsOpen) {
                closeAllNavs();
            }
        });
        
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                const targetHref = e.currentTarget.getAttribute('href');
                
                if (targetHref.startsWith('#')) {
                    e.preventDefault(); 
                }
  
                if (areNavsOpen) {
                    setTimeout(closeAllNavs, 100); 
                }
            });
        });
        
    });
  </script>

</body>
</html>